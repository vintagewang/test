<html xmlns:v="urn:schemas-microsoft-com:vml"
xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns:m="http://schemas.microsoft.com/office/2004/12/omml"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=gb2312">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 12">
<meta name=Originator content="Microsoft Word 12">
<link rel=File-List href="index.files/filelist.xml">
<link rel=Edit-Time-Data href="index.files/editdata.mso">
<link rel=OLE-Object-Data href="index.files/oledata.mso">
<!--[if !mso]>
<style>
v\:* {behavior:url(#default#VML);}
o\:* {behavior:url(#default#VML);}
w\:* {behavior:url(#default#VML);}
.shape {behavior:url(#default#VML);}
</style>
<![endif]-->
<title>Alibaba RocketMQ原理与应用</title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>誓嘉(王小瑞) vintage.wang@gmail.com</o:Author>
  <o:LastAuthor>vive</o:LastAuthor>
  <o:Revision>2</o:Revision>
  <o:TotalTime>2919</o:TotalTime>
  <o:LastPrinted>2013-05-18T15:33:00Z</o:LastPrinted>
  <o:Created>2013-08-11T01:38:00Z</o:Created>
  <o:LastSaved>2013-08-11T01:38:00Z</o:LastSaved>
  <o:Pages>28</o:Pages>
  <o:Words>2827</o:Words>
  <o:Characters>16115</o:Characters>
  <o:Lines>134</o:Lines>
  <o:Paragraphs>37</o:Paragraphs>
  <o:CharactersWithSpaces>18905</o:CharactersWithSpaces>
  <o:Version>12.00</o:Version>
 </o:DocumentProperties>
 <o:OfficeDocumentSettings>
  <o:RelyOnVML/>
  <o:AllowPNG/>
 </o:OfficeDocumentSettings>
</xml><![endif]-->
<link rel=dataStoreItem href="index.files/item0001.xml"
target="index.files/props0002.xml">
<link rel=dataStoreItem href="index.files/item0003.xml"
target="index.files/props0004.xml">
<link rel=themeData href="index.files/themedata.thmx">
<link rel=colorSchemeMapping href="index.files/colorschememapping.xml">
<!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:SpellingState>Clean</w:SpellingState>
  <w:TrackMoves>false</w:TrackMoves>
  <w:TrackFormatting/>
  <w:PunctuationKerning/>
  <w:DrawingGridHorizontalSpacing>5.25 磅</w:DrawingGridHorizontalSpacing>
  <w:DrawingGridVerticalSpacing>7.8 磅</w:DrawingGridVerticalSpacing>
  <w:DisplayHorizontalDrawingGridEvery>0</w:DisplayHorizontalDrawingGridEvery>
  <w:DisplayVerticalDrawingGridEvery>2</w:DisplayVerticalDrawingGridEvery>
  <w:ValidateAgainstSchemas/>
  <w:SaveIfXMLInvalid>false</w:SaveIfXMLInvalid>
  <w:IgnoreMixedContent>false</w:IgnoreMixedContent>
  <w:AlwaysShowPlaceholderText>false</w:AlwaysShowPlaceholderText>
  <w:DoNotPromoteQF/>
  <w:LidThemeOther>EN-US</w:LidThemeOther>
  <w:LidThemeAsian>ZH-CN</w:LidThemeAsian>
  <w:LidThemeComplexScript>X-NONE</w:LidThemeComplexScript>
  <w:Compatibility>
   <w:SpaceForUL/>
   <w:BalanceSingleByteDoubleByteWidth/>
   <w:DoNotLeaveBackslashAlone/>
   <w:ULTrailSpace/>
   <w:DoNotExpandShiftReturn/>
   <w:AdjustLineHeightInTable/>
   <w:BreakWrappedTables/>
   <w:SnapToGridInCell/>
   <w:WrapTextWithPunct/>
   <w:UseAsianBreakRules/>
   <w:DontGrowAutofit/>
   <w:SplitPgBreakAndParaMark/>
   <w:DontVertAlignCellWithSp/>
   <w:DontBreakConstrainedForcedTables/>
   <w:DontVertAlignInTxbx/>
   <w:Word11KerningPairs/>
   <w:CachedColBalance/>
   <w:UseFELayout/>
  </w:Compatibility>
  <m:mathPr>
   <m:mathFont m:val="Cambria Math"/>
   <m:brkBin m:val="before"/>
   <m:brkBinSub m:val="&#45;-"/>
   <m:smallFrac m:val="off"/>
   <m:dispDef/>
   <m:lMargin m:val="0"/>
   <m:rMargin m:val="0"/>
   <m:defJc m:val="centerGroup"/>
   <m:wrapIndent m:val="1440"/>
   <m:intLim m:val="subSup"/>
   <m:naryLim m:val="undOvr"/>
  </m:mathPr></w:WordDocument>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:LatentStyles DefLockedState="false" DefUnhideWhenUsed="true"
  DefSemiHidden="true" DefQFormat="false" DefPriority="99"
  LatentStyleCount="267">
  <w:LsdException Locked="false" Priority="0" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Normal"/>
  <w:LsdException Locked="false" Priority="9" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="heading 1"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 2"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 3"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 4"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 5"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 6"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 7"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 8"/>
  <w:LsdException Locked="false" Priority="9" QFormat="true" Name="heading 9"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 1"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 2"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 3"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 4"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 5"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 6"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 7"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 8"/>
  <w:LsdException Locked="false" Priority="39" Name="toc 9"/>
  <w:LsdException Locked="false" Priority="35" QFormat="true" Name="caption"/>
  <w:LsdException Locked="false" Priority="10" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Title"/>
  <w:LsdException Locked="false" Priority="1" Name="Default Paragraph Font"/>
  <w:LsdException Locked="false" Priority="11" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtitle"/>
  <w:LsdException Locked="false" Priority="22" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Strong"/>
  <w:LsdException Locked="false" Priority="20" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Emphasis"/>
  <w:LsdException Locked="false" Priority="59" SemiHidden="false"
   UnhideWhenUsed="false" Name="Table Grid"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Placeholder Text"/>
  <w:LsdException Locked="false" Priority="1" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="No Spacing"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 1"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 1"/>
  <w:LsdException Locked="false" UnhideWhenUsed="false" Name="Revision"/>
  <w:LsdException Locked="false" Priority="34" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="List Paragraph"/>
  <w:LsdException Locked="false" Priority="29" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Quote"/>
  <w:LsdException Locked="false" Priority="30" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Quote"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 1"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 1"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 1"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 1"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 1"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 1"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 1"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 2"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 2"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 2"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 2"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 2"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 2"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 2"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 2"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 3"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 3"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 3"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 3"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 3"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 3"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 3"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 3"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 4"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 4"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 4"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 4"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 4"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 4"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 4"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 4"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 5"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 5"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 5"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 5"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 5"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 5"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 5"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 5"/>
  <w:LsdException Locked="false" Priority="60" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="61" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light List Accent 6"/>
  <w:LsdException Locked="false" Priority="62" SemiHidden="false"
   UnhideWhenUsed="false" Name="Light Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="63" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="64" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Shading 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="65" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="66" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium List 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="67" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 1 Accent 6"/>
  <w:LsdException Locked="false" Priority="68" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 2 Accent 6"/>
  <w:LsdException Locked="false" Priority="69" SemiHidden="false"
   UnhideWhenUsed="false" Name="Medium Grid 3 Accent 6"/>
  <w:LsdException Locked="false" Priority="70" SemiHidden="false"
   UnhideWhenUsed="false" Name="Dark List Accent 6"/>
  <w:LsdException Locked="false" Priority="71" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Shading Accent 6"/>
  <w:LsdException Locked="false" Priority="72" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful List Accent 6"/>
  <w:LsdException Locked="false" Priority="73" SemiHidden="false"
   UnhideWhenUsed="false" Name="Colorful Grid Accent 6"/>
  <w:LsdException Locked="false" Priority="19" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Emphasis"/>
  <w:LsdException Locked="false" Priority="21" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Emphasis"/>
  <w:LsdException Locked="false" Priority="31" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Subtle Reference"/>
  <w:LsdException Locked="false" Priority="32" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Intense Reference"/>
  <w:LsdException Locked="false" Priority="33" SemiHidden="false"
   UnhideWhenUsed="false" QFormat="true" Name="Book Title"/>
  <w:LsdException Locked="false" Priority="37" Name="Bibliography"/>
  <w:LsdException Locked="false" Priority="39" QFormat="true" Name="TOC Heading"/>
 </w:LatentStyles>
</xml><![endif]-->
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;
	mso-font-charset:2;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:0 268435456 0 0 -2147483648 0;}
@font-face
	{font-family:宋体;
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-alt:SimSun;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 680460288 22 0 262145 0;}
@font-face
	{font-family:黑体;
	panose-1:2 1 6 9 6 1 1 1 1 1;
	mso-font-alt:SimHei;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-2147482945 953122042 22 0 262145 0;}
@font-face
	{font-family:黑体;
	panose-1:2 1 6 9 6 1 1 1 1 1;
	mso-font-alt:SimHei;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-2147482945 953122042 22 0 262145 0;}
@font-face
	{font-family:Cambria;
	panose-1:2 4 5 3 5 4 6 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:roman;
	mso-font-pitch:variable;
	mso-font-signature:-536870145 1073743103 0 0 415 0;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-536870145 1073786111 1 0 415 0;}
@font-face
	{font-family:Candara;
	panose-1:2 14 5 2 3 3 3 2 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-1610611985 1073783883 0 0 415 0;}
@font-face
	{font-family:微软雅黑;
	panose-1:2 11 5 3 2 2 4 2 2 4;
	mso-font-charset:134;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-2147483001 672087122 22 0 262175 0;}
@font-face
	{font-family:"YaHei Consolas Hybrid";
	panose-1:2 11 5 3 2 2 4 2 2 4;
	mso-font-charset:134;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-2147483001 705641554 22 0 262175 0;}
@font-face
	{font-family:"\@YaHei Consolas Hybrid";
	panose-1:2 11 5 3 2 2 4 2 2 4;
	mso-font-charset:134;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-2147483001 705641554 22 0 262175 0;}
@font-face
	{font-family:"\@微软雅黑";
	panose-1:2 11 5 3 2 2 4 2 2 4;
	mso-font-charset:134;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:-2147483001 672087122 22 0 262175 0;}
@font-face
	{font-family:"\@宋体";
	panose-1:2 1 6 0 3 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:auto;
	mso-font-pitch:variable;
	mso-font-signature:3 680460288 22 0 262145 0;}
@font-face
	{font-family:"\@黑体";
	panose-1:2 1 6 9 6 1 1 1 1 1;
	mso-font-charset:134;
	mso-generic-font-family:modern;
	mso-font-pitch:fixed;
	mso-font-signature:-2147482945 953122042 22 0 262145 0;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Candara","sans-serif";
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
h1
	{mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"标题 1 Char";
	mso-style-next:正文;
	margin-top:17.0pt;
	margin-right:0cm;
	margin-bottom:16.5pt;
	margin-left:21.6pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-21.6pt;
	line-height:240%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:1;
	mso-list:l20 level1 lfo1;
	font-size:16.0pt;
	mso-bidi-font-size:22.0pt;
	font-family:"Candara","sans-serif";
	mso-fareast-font-family:微软雅黑;
	mso-font-kerning:22.0pt;}
h2
	{mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 2 Char";
	mso-style-next:正文;
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:28.8pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-28.8pt;
	line-height:173%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:2;
	mso-list:l20 level2 lfo1;
	font-size:16.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;}
h3
	{mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 3 Char";
	mso-style-next:正文;
	margin-top:13.0pt;
	margin-right:0cm;
	margin-bottom:13.0pt;
	margin-left:36.0pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-36.0pt;
	line-height:173%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:3;
	mso-list:l20 level3 lfo1;
	font-size:16.0pt;
	font-family:"Candara","sans-serif";
	mso-fareast-font-family:微软雅黑;
	mso-font-kerning:1.0pt;}
h4
	{mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 4 Char";
	mso-style-next:正文;
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:43.2pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-43.2pt;
	line-height:156%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:4;
	mso-list:l20 level4 lfo1;
	font-size:14.0pt;
	font-family:"Candara","sans-serif";
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;}
h5
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 5 Char";
	mso-style-next:正文;
	margin-top:14.0pt;
	margin-right:0cm;
	margin-bottom:14.5pt;
	margin-left:50.4pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-50.4pt;
	line-height:156%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:5;
	mso-list:l20 level5 lfo1;
	font-size:14.0pt;
	font-family:"Candara","sans-serif";
	mso-fareast-font-family:微软雅黑;
	mso-font-kerning:1.0pt;}
h6
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 6 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:57.6pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-57.6pt;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:6;
	mso-list:l20 level6 lfo1;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:宋体;
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;}
p.MsoHeading7, li.MsoHeading7, div.MsoHeading7
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 7 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:64.8pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-64.8pt;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:7;
	mso-list:l20 level7 lfo1;
	font-size:12.0pt;
	font-family:"Candara","sans-serif";
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;
	font-weight:bold;}
p.MsoHeading8, li.MsoHeading8, div.MsoHeading8
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 8 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:72.0pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-72.0pt;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:8;
	mso-list:l20 level8 lfo1;
	font-size:12.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:宋体;
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;}
p.MsoHeading9, li.MsoHeading9, div.MsoHeading9
	{mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-qformat:yes;
	mso-style-link:"标题 9 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.2pt;
	margin-left:79.2pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-79.2pt;
	line-height:133%;
	mso-pagination:lines-together;
	page-break-after:avoid;
	mso-outline-level:9;
	mso-list:l20 level9 lfo1;
	font-size:10.5pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:宋体;
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{mso-style-update:auto;
	mso-style-priority:39;
	mso-style-next:正文;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Candara","sans-serif";
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoToc2, li.MsoToc2, div.MsoToc2
	{mso-style-update:auto;
	mso-style-priority:39;
	mso-style-next:正文;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:21.0pt;
	margin-bottom:.0001pt;
	mso-para-margin-top:0cm;
	mso-para-margin-right:0cm;
	mso-para-margin-bottom:0cm;
	mso-para-margin-left:2.0gd;
	mso-para-margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Candara","sans-serif";
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoToc3, li.MsoToc3, div.MsoToc3
	{mso-style-update:auto;
	mso-style-priority:39;
	mso-style-next:正文;
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:42.0pt;
	margin-bottom:.0001pt;
	mso-para-margin-top:0cm;
	mso-para-margin-right:0cm;
	mso-para-margin-bottom:0cm;
	mso-para-margin-left:4.0gd;
	mso-para-margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Candara","sans-serif";
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-priority:99;
	mso-style-link:"页眉 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:center;
	mso-pagination:none;
	tab-stops:center 207.65pt right 415.3pt;
	layout-grid-mode:char;
	border:none;
	mso-border-bottom-alt:solid windowtext .75pt;
	padding:0cm;
	mso-padding-alt:0cm 0cm 1.0pt 0cm;
	font-size:9.0pt;
	font-family:"Candara","sans-serif";
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-priority:99;
	mso-style-link:"页脚 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:none;
	tab-stops:center 207.65pt right 415.3pt;
	layout-grid-mode:char;
	font-size:9.0pt;
	font-family:"Candara","sans-serif";
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{mso-style-priority:35;
	mso-style-qformat:yes;
	mso-style-next:正文;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:10.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:黑体;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{mso-style-priority:10;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-link:"标题 Char";
	mso-style-next:正文;
	margin-top:12.0pt;
	margin-right:0cm;
	margin-bottom:3.0pt;
	margin-left:21.0pt;
	text-align:center;
	text-indent:-21.0pt;
	mso-pagination:none;
	mso-outline-level:1;
	mso-list:l26 level1 lfo2;
	font-size:16.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	mso-font-kerning:1.0pt;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{mso-style-priority:99;
	color:blue;
	mso-themecolor:hyperlink;
	text-decoration:underline;
	text-underline:single;}
a:visited, span.MsoHyperlinkFollowed
	{mso-style-noshow:yes;
	mso-style-priority:99;
	color:purple;
	mso-themecolor:followedhyperlink;
	text-decoration:underline;
	text-underline:single;}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-link:"文档结构图 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:9.0pt;
	font-family:宋体;
	mso-hansi-font-family:Candara;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoAcetate, li.MsoAcetate, div.MsoAcetate
	{mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-link:"批注框文本 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	mso-pagination:none;
	font-size:9.0pt;
	font-family:"Candara","sans-serif";
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoNoSpacing, li.MsoNoSpacing, div.MsoNoSpacing
	{mso-style-priority:1;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	mso-style-parent:"";
	mso-style-link:"无间隔 Char";
	margin:0cm;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-fareast-font-family:宋体;
	mso-fareast-theme-font:minor-fareast;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;}
p.MsoListParagraph, li.MsoListParagraph, div.MsoListParagraph
	{mso-style-priority:34;
	mso-style-unhide:no;
	mso-style-qformat:yes;
	margin:0cm;
	margin-bottom:.0001pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:21.0pt;
	mso-char-indent-count:2.0;
	mso-pagination:none;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Candara","sans-serif";
	mso-fareast-font-family:微软雅黑;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;
	mso-font-kerning:1.0pt;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{mso-style-noshow:yes;
	mso-style-priority:39;
	mso-style-qformat:yes;
	mso-style-parent:"标题 1";
	mso-style-next:正文;
	margin-top:24.0pt;
	margin-right:0cm;
	margin-bottom:0cm;
	margin-left:0cm;
	margin-bottom:.0001pt;
	line-height:115%;
	mso-pagination:widow-orphan lines-together;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:宋体;
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	color:#365F91;
	mso-themecolor:accent1;
	mso-themeshade:191;
	font-weight:bold;}
span.Char
	{mso-style-name:"页眉 Char";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:页眉;
	mso-ansi-font-size:9.0pt;
	mso-bidi-font-size:9.0pt;}
span.Char0
	{mso-style-name:"页脚 Char";
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:页脚;
	mso-ansi-font-size:9.0pt;
	mso-bidi-font-size:9.0pt;}
span.Char1
	{mso-style-name:"无间隔 Char";
	mso-style-priority:1;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:无间隔;
	mso-ansi-font-size:11.0pt;
	mso-font-kerning:0pt;}
span.Char2
	{mso-style-name:"批注框文本 Char";
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:批注框文本;
	mso-ansi-font-size:9.0pt;
	mso-bidi-font-size:9.0pt;}
span.1Char
	{mso-style-name:"标题 1 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 1";
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:22.0pt;
	font-family:"Candara","sans-serif";
	mso-ascii-font-family:Candara;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Candara;
	mso-font-kerning:22.0pt;
	font-weight:bold;}
span.2Char
	{mso-style-name:"标题 2 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 2";
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	font-weight:bold;}
span.3Char
	{mso-style-name:"标题 3 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 3";
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:"Candara","sans-serif";
	mso-ascii-font-family:Candara;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Candara;
	font-weight:bold;}
span.4Char
	{mso-style-name:"标题 4 Char";
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 4";
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:"Candara","sans-serif";
	mso-ascii-font-family:Candara;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Candara;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	font-weight:bold;}
span.5Char
	{mso-style-name:"标题 5 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 5";
	mso-ansi-font-size:14.0pt;
	mso-bidi-font-size:14.0pt;
	font-family:"Candara","sans-serif";
	mso-ascii-font-family:Candara;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Candara;
	font-weight:bold;}
span.6Char
	{mso-style-name:"标题 6 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 6";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:宋体;
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	font-weight:bold;}
span.7Char
	{mso-style-name:"标题 7 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 7";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Candara","sans-serif";
	mso-ascii-font-family:Candara;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Candara;
	font-weight:bold;}
span.8Char
	{mso-style-name:"标题 8 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 8";
	mso-ansi-font-size:12.0pt;
	mso-bidi-font-size:12.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:宋体;
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;}
span.9Char
	{mso-style-name:"标题 9 Char";
	mso-style-noshow:yes;
	mso-style-priority:9;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:"标题 9";
	mso-bidi-font-size:10.5pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:宋体;
	mso-fareast-theme-font:major-fareast;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;}
span.Char3
	{mso-style-name:"文档结构图 Char";
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:文档结构图;
	mso-ansi-font-size:9.0pt;
	mso-bidi-font-size:9.0pt;
	font-family:宋体;
	mso-ascii-font-family:宋体;
	mso-fareast-font-family:宋体;}
span.Char4
	{mso-style-name:"标题 Char";
	mso-style-priority:10;
	mso-style-unhide:no;
	mso-style-locked:yes;
	mso-style-link:标题;
	mso-ansi-font-size:16.0pt;
	mso-bidi-font-size:16.0pt;
	font-family:"Cambria","serif";
	mso-ascii-font-family:Cambria;
	mso-ascii-theme-font:major-latin;
	mso-fareast-font-family:微软雅黑;
	mso-hansi-font-family:Cambria;
	mso-hansi-theme-font:major-latin;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:major-bidi;
	font-weight:bold;}
span.SpellE
	{mso-style-name:"";
	mso-spl-e:yes;}
.MsoChpDefault
	{mso-style-type:export-only;
	mso-default-props:yes;
	mso-bidi-font-family:"Times New Roman";
	mso-bidi-theme-font:minor-bidi;}
 /* Page Definitions */
 @page
	{mso-page-border-surround-header:no;
	mso-page-border-surround-footer:no;
	mso-footnote-separator:url("index.files/header.html") fs;
	mso-footnote-continuation-separator:url("index.files/header.html") fcs;
	mso-endnote-separator:url("index.files/header.html") es;
	mso-endnote-continuation-separator:url("index.files/header.html") ecs;}
@page WordSection1
	{size:595.3pt 841.9pt;
	margin:36.0pt 36.0pt 36.0pt 36.0pt;
	mso-header-margin:25.5pt;
	mso-footer-margin:49.6pt;
	mso-even-header:url("index.files/header.html") eh1;
	mso-header:url("index.files/header.html") h1;
	mso-paper-source:0;
	layout-grid:15.6pt;}
div.WordSection1
	{page:WordSection1;}
@page WordSection2
	{size:595.3pt 841.9pt;
	margin:36.0pt 36.0pt 36.0pt 36.0pt;
	mso-header-margin:19.85pt;
	mso-footer-margin:36.85pt;
	mso-page-numbers:roman-upper 1;
	mso-even-header:url("index.files/header.html") eh1;
	mso-header:url("index.files/header.html") h2;
	mso-footer:url("index.files/header.html") f2;
	mso-paper-source:0;
	layout-grid:15.6pt;}
div.WordSection2
	{page:WordSection2;}
@page WordSection3
	{size:595.3pt 841.9pt;
	margin:36.0pt 36.0pt 36.0pt 36.0pt;
	mso-header-margin:19.85pt;
	mso-footer-margin:1.0cm;
	mso-page-numbers:1;
	mso-even-header:url("index.files/header.html") eh1;
	mso-header:url("index.files/header.html") h2;
	mso-footer:url("index.files/header.html") f3;
	mso-paper-source:0;
	layout-grid:15.6pt;}
div.WordSection3
	{page:WordSection3;}
 /* List Definitions */
 @list l0
	{mso-list-id:78139478;
	mso-list-type:hybrid;
	mso-list-template-ids:-1820557066 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l0:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.0pt;
	text-indent:-21.0pt;}
@list l1
	{mso-list-id:114298562;
	mso-list-type:hybrid;
	mso-list-template-ids:-814326578 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l1:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l2
	{mso-list-id:224606126;
	mso-list-type:hybrid;
	mso-list-template-ids:1715246580 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l2:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l3
	{mso-list-id:282201668;
	mso-list-type:hybrid;
	mso-list-template-ids:-794114940 67698691 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l3:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06E;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l4
	{mso-list-id:290792726;
	mso-list-type:hybrid;
	mso-list-template-ids:-399504344 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l4:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l5
	{mso-list-id:298147545;
	mso-list-type:hybrid;
	mso-list-template-ids:-821254324 67698691 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l5:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06E;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l6
	{mso-list-id:301423042;
	mso-list-type:hybrid;
	mso-list-template-ids:-268389674 -1110795626 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l6:level1
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:18.0pt;
	text-indent:-18.0pt;}
@list l7
	{mso-list-id:312489117;
	mso-list-type:hybrid;
	mso-list-template-ids:1532933848 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l7:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l8
	{mso-list-id:377052103;
	mso-list-type:hybrid;
	mso-list-template-ids:1229201312 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l8:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l9
	{mso-list-id:453525495;
	mso-list-type:hybrid;
	mso-list-template-ids:1450062712 67698705 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l9:level1
	{mso-level-text:"%1\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l10
	{mso-list-id:577054616;
	mso-list-type:hybrid;
	mso-list-template-ids:1491226380 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l10:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l11
	{mso-list-id:611522396;
	mso-list-type:hybrid;
	mso-list-template-ids:-1339910294 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l11:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l12
	{mso-list-id:640504093;
	mso-list-type:hybrid;
	mso-list-template-ids:412128524 67698691 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l12:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06E;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l13
	{mso-list-id:647127791;
	mso-list-type:hybrid;
	mso-list-template-ids:2034631710 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l13:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l13:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l14
	{mso-list-id:746726348;
	mso-list-type:hybrid;
	mso-list-template-ids:-419687336 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l14:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l15
	{mso-list-id:780806472;
	mso-list-type:hybrid;
	mso-list-template-ids:689882558 67698709 67698713 67698715 67698713 67698713 67698715 67698703 67698713 67698715;}
@list l15:level1
	{mso-level-number-format:alpha-upper;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.0pt;
	text-indent:-21.0pt;}
@list l15:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l15:level3
	{mso-level-number-format:roman-lower;
	mso-level-tab-stop:none;
	mso-level-number-position:right;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l15:level4
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%4\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:84.0pt;
	text-indent:-21.0pt;}
@list l15:level5
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%5\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:105.0pt;
	text-indent:-21.0pt;}
@list l16
	{mso-list-id:807093919;
	mso-list-type:hybrid;
	mso-list-template-ids:-116113602 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l16:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.05pt;
	text-indent:-21.0pt;}
@list l17
	{mso-list-id:836309477;
	mso-list-type:hybrid;
	mso-list-template-ids:391938192 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l17:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l18
	{mso-list-id:882836670;
	mso-list-type:hybrid;
	mso-list-template-ids:1431321414 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l18:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l19
	{mso-list-id:885609288;
	mso-list-type:hybrid;
	mso-list-template-ids:1715246580 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l19:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l20
	{mso-list-id:931625766;
	mso-list-template-ids:67698725;}
@list l20:level1
	{mso-level-style-link:"标题 1";
	mso-level-text:%1;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.6pt;
	text-indent:-21.6pt;}
@list l20:level2
	{mso-level-style-link:"标题 2";
	mso-level-text:"%1\.%2";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:28.8pt;
	text-indent:-28.8pt;}
@list l20:level3
	{mso-level-style-link:"标题 3";
	mso-level-text:"%1\.%2\.%3";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:36.0pt;
	text-indent:-36.0pt;}
@list l20:level4
	{mso-level-style-link:"标题 4";
	mso-level-text:"%1\.%2\.%3\.%4";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:43.2pt;
	text-indent:-43.2pt;}
@list l20:level5
	{mso-level-style-link:"标题 5";
	mso-level-text:"%1\.%2\.%3\.%4\.%5";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:50.4pt;
	text-indent:-50.4pt;}
@list l20:level6
	{mso-level-style-link:"标题 6";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:57.6pt;
	text-indent:-57.6pt;}
@list l20:level7
	{mso-level-style-link:"标题 7";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:64.8pt;
	text-indent:-64.8pt;}
@list l20:level8
	{mso-level-style-link:"标题 8";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:72.0pt;
	text-indent:-72.0pt;}
@list l20:level9
	{mso-level-style-link:"标题 9";
	mso-level-text:"%1\.%2\.%3\.%4\.%5\.%6\.%7\.%8\.%9";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:79.2pt;
	text-indent:-79.2pt;}
@list l21
	{mso-list-id:986056309;
	mso-list-type:hybrid;
	mso-list-template-ids:-880625230 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l21:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l22
	{mso-list-id:1193882949;
	mso-list-type:hybrid;
	mso-list-template-ids:-1046057308 67698691 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l22:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06E;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l23
	{mso-list-id:1198393975;
	mso-list-type:hybrid;
	mso-list-template-ids:1125970076 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l23:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.05pt;
	text-indent:-21.0pt;}
@list l24
	{mso-list-id:1302230125;
	mso-list-type:hybrid;
	mso-list-template-ids:-1631306494 67698711 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l24:level1
	{mso-level-number-format:chinese-counting-thousand;
	mso-level-text:"\(%1\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l25
	{mso-list-id:1388190122;
	mso-list-type:hybrid;
	mso-list-template-ids:391938192 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l25:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l26
	{mso-list-id:1416052979;
	mso-list-type:hybrid;
	mso-list-template-ids:897338080 1896256692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l26:level1
	{mso-level-style-link:标题;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:21.0pt;
	text-indent:-21.0pt;}
@list l27
	{mso-list-id:1421680378;
	mso-list-type:hybrid;
	mso-list-template-ids:177397834 67698705 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l27:level1
	{mso-level-text:"%1\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.05pt;
	text-indent:-21.0pt;}
@list l28
	{mso-list-id:1503472305;
	mso-list-type:hybrid;
	mso-list-template-ids:561443092 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l28:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l28:level2
	{mso-level-number-format:alpha-lower;
	mso-level-text:"%2\)";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:63.0pt;
	text-indent:-21.0pt;}
@list l29
	{mso-list-id:1639653240;
	mso-list-type:hybrid;
	mso-list-template-ids:-554532000 67698703 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l29:level1
	{mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l30
	{mso-list-id:1696887975;
	mso-list-type:hybrid;
	mso-list-template-ids:301657982 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l30:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.05pt;
	text-indent:-21.0pt;}
@list l31
	{mso-list-id:1730836209;
	mso-list-type:hybrid;
	mso-list-template-ids:1997460488 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l31:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
@list l32
	{mso-list-id:1859807554;
	mso-list-type:hybrid;
	mso-list-template-ids:-1538875562 67698691 67698691 67698693 67698689 67698691 67698693 67698689 67698691 67698693;}
@list l32:level1
	{mso-level-number-format:bullet;
	mso-level-text:\F06E;
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;
	font-family:Wingdings;}
@list l33
	{mso-list-id:2002661827;
	mso-list-type:hybrid;
	mso-list-template-ids:2138317056 -1604016692 67698713 67698715 67698703 67698713 67698715 67698703 67698713 67698715;}
@list l33:level1
	{mso-level-text:"\(%1\)\.";
	mso-level-tab-stop:none;
	mso-level-number-position:left;
	margin-left:42.0pt;
	text-indent:-21.0pt;}
ol
	{margin-bottom:0cm;}
ul
	{margin-bottom:0cm;}
-->
</style>
<!--[if gte mso 10]>
<style>
 /* Style Definitions */
 table.MsoNormalTable
	{mso-style-name:普通表格;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-noshow:yes;
	mso-style-priority:99;
	mso-style-qformat:yes;
	mso-style-parent:"";
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-font-kerning:1.0pt;}
table.MsoTableGrid
	{mso-style-name:网格型;
	mso-tstyle-rowband-size:0;
	mso-tstyle-colband-size:0;
	mso-style-priority:59;
	mso-style-unhide:no;
	border:solid windowtext 1.0pt;
	mso-border-alt:solid windowtext .5pt;
	mso-padding-alt:0cm 5.4pt 0cm 5.4pt;
	mso-border-insideh:.5pt solid windowtext;
	mso-border-insidev:.5pt solid windowtext;
	mso-para-margin:0cm;
	mso-para-margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:10.5pt;
	mso-bidi-font-size:11.0pt;
	font-family:"Calibri","sans-serif";
	mso-ascii-font-family:Calibri;
	mso-ascii-theme-font:minor-latin;
	mso-hansi-font-family:Calibri;
	mso-hansi-theme-font:minor-latin;
	mso-font-kerning:1.0pt;}
</style>
<![endif]--><!--[if gte mso 9]><xml>
 <o:shapedefaults v:ext="edit" spidmax="230402"/>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <o:shapelayout v:ext="edit">
  <o:idmap v:ext="edit" data="2"/>
 </o:shapelayout></xml><![endif]-->
</head>

<body lang=ZH-CN link=blue vlink=purple style='tab-interval:21.0pt;text-justify-trim:
punctuation'>

<div class=WordSection1 style='layout-grid:15.6pt'>

<div align=center><w:Sdt SdtDocPart="t" DocPartType="Cover Pages"
 DocPartUnique="t" ID="1576631905">
 <table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width="100%"
  style='width:100.0%;border-collapse:collapse;mso-yfti-tbllook:1184;
  mso-padding-alt:0cm 5.4pt 0cm 5.4pt'>
  <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:144.0pt'>
   <td width="100%" valign=top style='width:100.0%;padding:0cm 5.4pt 0cm 5.4pt;
   height:144.0pt'>
   <p class=MsoNoSpacing align=center style='text-align:center'><span
   lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif";
   mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:major-bidi;
   text-transform:uppercase'><o:p>&nbsp;</o:p></span><span lang=EN-US
   style='font-size:10.5pt;mso-bidi-font-size:11.0pt;font-family:"YaHei Consolas Hybrid","sans-serif";
   mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:major-bidi;
   text-transform:uppercase'><w:sdtPr></w:sdtPr></span></p>
   </td>
  </tr>
  <tr style='mso-yfti-irow:1;height:72.0pt'>
   <w:Sdt
    PrefixMappings="xmlns:ns0='http://schemas.openxmlformats.org/package/2006/metadata/core-properties' xmlns:ns1='http://purl.org/dc/elements/1.1/'"
    Xpath="/ns0:coreProperties[1]/ns1:title[1]" Text="t"
    StoreItemID="X_6C3C8BC8-F283-45AE-878A-BAB7291924A1" Title="标题"
    ID="15524250">
    <td width="100%" style='width:100.0%;border:none;border-bottom:solid #4F81BD 1.0pt;
    mso-border-bottom-themecolor:accent1;mso-border-bottom-alt:solid #4F81BD .5pt;
    mso-border-bottom-themecolor:accent1;padding:0cm 5.4pt 0cm 5.4pt;
    height:72.0pt'>
    <p class=MsoNoSpacing align=center style='text-align:center'><b
    style='mso-bidi-font-weight:normal'><span lang=EN-US style='font-size:36.0pt;
    font-family:"Cambria","serif";mso-ascii-theme-font:major-latin;mso-fareast-font-family:
    微软雅黑;mso-hansi-theme-font:major-latin;mso-bidi-font-family:"Times New Roman";
    mso-bidi-theme-font:major-bidi'><span class=SpellE>Alibaba</span> <span
    class=SpellE>RocketMQ</span></span></b><b style='mso-bidi-font-weight:normal'><span
    style='font-size:36.0pt;font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
    Cambria;mso-ascii-theme-font:major-latin;mso-bidi-font-family:"Times New Roman";
    mso-bidi-theme-font:major-bidi'>原理与应用</span></b><b style='mso-bidi-font-weight:
    normal'><span lang=EN-US style='font-size:36.0pt;font-family:"Cambria","serif";
    mso-ascii-theme-font:major-latin;mso-fareast-font-family:微软雅黑;mso-hansi-theme-font:
    major-latin;mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:
    major-bidi'><o:p></o:p></span></b><b style='mso-bidi-font-weight:normal'><span
    lang=EN-US style='font-size:36.0pt;font-family:"YaHei Consolas Hybrid","sans-serif";
    mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-fareast-font-family:
    微软雅黑;mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin;
    mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:major-bidi'><w:sdtPr></w:sdtPr></span></b></p>
    </td>
   </w:Sdt>
  </tr>
  <tr style='mso-yfti-irow:2;height:36.0pt'>
   <w:Sdt
    PrefixMappings="xmlns:ns0='http://schemas.openxmlformats.org/package/2006/metadata/core-properties' xmlns:ns1='http://purl.org/dc/elements/1.1/'"
    Xpath="/ns0:coreProperties[1]/ns1:subject[1]" ShowingPlcHdr="t" Text="t"
    StoreItemID="X_6C3C8BC8-F283-45AE-878A-BAB7291924A1" Title="副标题"
    ID="15524255">
    <td width="100%" style='width:100.0%;border:none;mso-border-top-alt:solid #4F81BD .5pt;
    mso-border-top-themecolor:accent1;padding:0cm 5.4pt 0cm 5.4pt;height:36.0pt'>
    <p class=MsoNoSpacing align=center style='text-align:center'><span
    lang=EN-US style='font-size:15.0pt;font-family:"Cambria","serif";
    mso-ascii-theme-font:major-latin;mso-fareast-font-family:微软雅黑;mso-hansi-theme-font:
    major-latin;mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:
    major-bidi'><span style='mso-spacerun:yes'>&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
    lang=EN-US style='font-size:15.0pt;font-family:"Cambria","serif";
    mso-ascii-theme-font:major-latin;mso-fareast-font-family:微软雅黑;mso-hansi-theme-font:
    major-latin;mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:
    major-bidi'><o:p></o:p></span><span lang=EN-US style='font-size:15.0pt;
    font-family:"YaHei Consolas Hybrid","sans-serif";mso-ascii-font-family:
    Cambria;mso-ascii-theme-font:major-latin;mso-fareast-font-family:微软雅黑;
    mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin;mso-bidi-font-family:
    "Times New Roman";mso-bidi-theme-font:major-bidi'><w:sdtPr></w:sdtPr></span></p>
    </td>
   </w:Sdt>
  </tr>
  <tr style='mso-yfti-irow:3;height:18.0pt'>
   <td width="100%" style='width:100.0%;padding:0cm 5.4pt 0cm 5.4pt;height:
   18.0pt'>
   <p class=MsoNoSpacing align=center style='text-align:center'><span
   lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
  </tr>
  <tr style='mso-yfti-irow:4;height:18.0pt'>
   <w:Sdt
    PrefixMappings="xmlns:ns0='http://schemas.openxmlformats.org/package/2006/metadata/core-properties' xmlns:ns1='http://purl.org/dc/elements/1.1/'"
    Xpath="/ns0:coreProperties[1]/ns1:creator[1]" Text="t"
    StoreItemID="X_6C3C8BC8-F283-45AE-878A-BAB7291924A1" Title="作者"
    ID="15524260">
    <td width="100%" style='width:100.0%;padding:0cm 5.4pt 0cm 5.4pt;
    height:18.0pt'>
    <p class=MsoNoSpacing align=center style='text-align:center'><b><span
    style='font-family:宋体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:
    major-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
    mso-hansi-font-family:微软雅黑'>誓嘉</span></b><b><span lang=EN-US
    style='font-family:"Cambria","serif";mso-ascii-theme-font:major-latin;
    mso-hansi-font-family:微软雅黑'>(</span></b><b><span style='font-family:宋体;
    mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-fareast-font-family:
    宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:微软雅黑'>王小瑞</span></b><b><span
    lang=EN-US style='font-family:"Cambria","serif";mso-ascii-theme-font:major-latin;
    mso-hansi-font-family:微软雅黑'>) vintage.wang@gmail.com</span></b><b><span
    lang=EN-US style='font-family:"Cambria","serif";mso-ascii-theme-font:major-latin;
    mso-hansi-font-family:微软雅黑'><o:p></o:p></span></b><b><span lang=EN-US
    style='font-family:"YaHei Consolas Hybrid","sans-serif";mso-ascii-font-family:
    Cambria;mso-ascii-theme-font:major-latin;mso-fareast-font-family:宋体;
    mso-fareast-theme-font:minor-fareast;mso-hansi-font-family:微软雅黑'><w:sdtPr></w:sdtPr></span></b></p>
    </td>
   </w:Sdt>
  </tr>
  <tr style='mso-yfti-irow:5;mso-yfti-lastrow:yes;height:18.0pt'>
   <td width="100%" style='width:100.0%;padding:0cm 5.4pt 0cm 5.4pt;height:
   18.0pt'>
   <p class=MsoNoSpacing align=center style='text-align:center'><!--[if supportFields]><span
   lang=EN-US style='font-family:"Cambria","serif";mso-ascii-theme-font:major-latin;
   mso-fareast-font-family:"YaHei Consolas Hybrid";mso-hansi-theme-font:major-latin'><span
   style='mso-element:field-begin'></span><span
   style='mso-spacerun:yes'>&nbsp;</span>SAVEDATE<span
   style='mso-spacerun:yes'>&nbsp; </span>\@ &quot;yyyy/M/d&quot;<span
   style='mso-spacerun:yes'>&nbsp; </span>\* MERGEFORMAT <span
   style='mso-element:field-separator'></span></span><![endif]--><span
   lang=EN-US style='font-family:"Cambria","serif";mso-ascii-theme-font:major-latin;
   mso-fareast-font-family:"YaHei Consolas Hybrid";mso-hansi-theme-font:major-latin'><span
   style='mso-no-proof:yes'>2013/7/27</span></span><!--[if supportFields]><span
   lang=EN-US style='font-family:"Cambria","serif";mso-ascii-theme-font:major-latin;
   mso-fareast-font-family:"YaHei Consolas Hybrid";mso-hansi-theme-font:major-latin'><span
   style='mso-element:field-end'></span></span><![endif]--><span lang=EN-US
   style='font-family:"Cambria","serif";mso-ascii-theme-font:major-latin;
   mso-fareast-font-family:"YaHei Consolas Hybrid";mso-hansi-theme-font:major-latin'><b><o:p></o:p></b></span></p>
   </td>
  </tr>
 </table>
 </div>
 <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
 <span lang=EN-US style='font-size:10.5pt;mso-bidi-font-size:11.0pt;font-family:
 "YaHei Consolas Hybrid","sans-serif";mso-bidi-font-family:"Times New Roman";
 mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN-US;mso-fareast-language:
 ZH-CN;mso-bidi-language:AR-SA'><br clear=all style='mso-special-character:
 line-break;page-break-before:always'>
 </span>
 <p class=MsoNormal align=left style='text-align:left;mso-pagination:widow-orphan'><span
 lang=EN-US style='font-size:11.0pt;font-family:"YaHei Consolas Hybrid","sans-serif";
 mso-font-kerning:0pt'><o:p>&nbsp;</o:p></span></p>
 <p class=MsoNoSpacing align=center style='text-align:center'><b
 style='mso-bidi-font-weight:normal'><span style='font-size:16.0pt;font-family:
 "YaHei Consolas Hybrid","sans-serif"'>文档变更历史<span lang=EN-US><o:p></o:p></span></span></b></p>
 <table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
  style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
  mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt'>
  <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:14.2pt'>
   <td width=64 valign=top style='width:47.95pt;border:solid windowtext 1.0pt;
   mso-border-alt:solid windowtext .5pt;background:#00B050;padding:0cm 5.4pt 0cm 5.4pt;
   height:14.2pt'>
   <p class=MsoNoSpacing><b style='mso-bidi-font-weight:normal'><span
   style='font-family:"YaHei Consolas Hybrid","sans-serif"'>序号<span lang=EN-US><o:p></o:p></span></span></b></p>
   </td>
   <td width=292 valign=top style='width:219.05pt;border:solid windowtext 1.0pt;
   border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
   solid windowtext .5pt;background:#00B050;padding:0cm 5.4pt 0cm 5.4pt;
   height:14.2pt'>
   <p class=MsoNoSpacing><b style='mso-bidi-font-weight:normal'><span
   style='font-family:"YaHei Consolas Hybrid","sans-serif"'>主要更改内容<span
   lang=EN-US><o:p></o:p></span></span></b></p>
   </td>
   <td width=218 valign=top style='width:163.65pt;border:solid windowtext 1.0pt;
   border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
   solid windowtext .5pt;background:#00B050;padding:0cm 5.4pt 0cm 5.4pt;
   height:14.2pt'>
   <p class=MsoNoSpacing><b style='mso-bidi-font-weight:normal'><span
   style='font-family:"YaHei Consolas Hybrid","sans-serif"'>更改人<span
   lang=EN-US><o:p></o:p></span></span></b></p>
   </td>
   <td width=138 valign=top style='width:103.45pt;border:solid windowtext 1.0pt;
   border-left:none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:
   solid windowtext .5pt;background:#00B050;padding:0cm 5.4pt 0cm 5.4pt;
   height:14.2pt'>
   <p class=MsoNoSpacing><b style='mso-bidi-font-weight:normal'><span
   style='font-family:"YaHei Consolas Hybrid","sans-serif"'>更改时间<span
   lang=EN-US><o:p></o:p></span></span></b></p>
   </td>
  </tr>
  <tr style='mso-yfti-irow:1;height:14.2pt'>
   <td width=64 valign=top style='width:47.95pt;border:solid windowtext 1.0pt;
   border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:
   solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'>1<o:p></o:p></span></p>
   </td>
   <td width=292 valign=top style='width:219.05pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span style='font-family:"YaHei Consolas Hybrid","sans-serif"'>建立初始版本<span
   lang=EN-US><o:p></o:p></span></span></p>
   </td>
   <td width=218 valign=top style='width:163.65pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span style='font-family:"YaHei Consolas Hybrid","sans-serif"'>誓嘉<span
   lang=EN-US>vintage.wang@gmail.com<o:p></o:p></span></span></p>
   </td>
   <td width=138 valign=top style='width:103.45pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'>2013/5/18<o:p></o:p></span></p>
   </td>
  </tr>
  <tr style='mso-yfti-irow:2;height:14.2pt'>
   <td width=64 valign=top style='width:47.95pt;border:solid windowtext 1.0pt;
   border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:
   solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'>2<o:p></o:p></span></p>
   </td>
   <td width=292 valign=top style='width:219.05pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
   <td width=218 valign=top style='width:163.65pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
   <td width=138 valign=top style='width:103.45pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
  </tr>
  <tr style='mso-yfti-irow:3;height:14.2pt'>
   <td width=64 valign=top style='width:47.95pt;border:solid windowtext 1.0pt;
   border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:
   solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'>3<o:p></o:p></span></p>
   </td>
   <td width=292 valign=top style='width:219.05pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
   <td width=218 valign=top style='width:163.65pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
   <td width=138 valign=top style='width:103.45pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
  </tr>
  <tr style='mso-yfti-irow:4;height:14.2pt'>
   <td width=64 valign=top style='width:47.95pt;border:solid windowtext 1.0pt;
   border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:
   solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'>4<o:p></o:p></span></p>
   </td>
   <td width=292 valign=top style='width:219.05pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
   <td width=218 valign=top style='width:163.65pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
   <td width=138 valign=top style='width:103.45pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
  </tr>
  <tr style='mso-yfti-irow:5;height:14.2pt'>
   <td width=64 valign=top style='width:47.95pt;border:solid windowtext 1.0pt;
   border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:
   solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'>5<o:p></o:p></span></p>
   </td>
   <td width=292 valign=top style='width:219.05pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
   <td width=218 valign=top style='width:163.65pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
   <td width=138 valign=top style='width:103.45pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
  </tr>
  <tr style='mso-yfti-irow:6;height:14.2pt'>
   <td width=64 valign=top style='width:47.95pt;border:solid windowtext 1.0pt;
   border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:
   solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'>6<o:p></o:p></span></p>
   </td>
   <td width=292 valign=top style='width:219.05pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
   <td width=218 valign=top style='width:163.65pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
   <td width=138 valign=top style='width:103.45pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
  </tr>
  <tr style='mso-yfti-irow:7;mso-yfti-lastrow:yes;height:14.2pt'>
   <td width=64 valign=top style='width:47.95pt;border:solid windowtext 1.0pt;
   border-top:none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:
   solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'>7<o:p></o:p></span></p>
   </td>
   <td width=292 valign=top style='width:219.05pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
   <td width=218 valign=top style='width:163.65pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
   <td width=138 valign=top style='width:103.45pt;border-top:none;border-left:
   none;border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
   mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
   mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:
   14.2pt'>
   <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p>&nbsp;</o:p></span></p>
   </td>
  </tr>
 </table>
 <p class=MsoNoSpacing><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif"'><o:p></o:p></span></p>
 </div>
 <span lang=EN-US style='font-size:11.0pt;font-family:"YaHei Consolas Hybrid","sans-serif";
 mso-bidi-font-family:"Times New Roman";mso-bidi-theme-font:minor-bidi;
 mso-font-kerning:0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;
 mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always;
 mso-break-type:section-break'>
</w:Sdt></span>

<div class=WordSection2 style='layout-grid:15.6pt'><w:Sdt SdtDocPart="t"
 DocPartType="Table of Contents" DocPartUnique="t" ID="1929789996">
 <p class=MsoNormal align=center style='text-align:center;mso-pagination:widow-orphan'><b
 style='mso-bidi-font-weight:normal'><span style='font-size:14.0pt;font-family:
 "微软雅黑","sans-serif";mso-ascii-font-family:"YaHei Consolas Hybrid";mso-hansi-font-family:
 "YaHei Consolas Hybrid";mso-ansi-language:ZH-CN'>目录</span></b><span
 style='mso-ansi-language:ZH-CN'><w:sdtPr></w:sdtPr></span></p>
 <p class=MsoToc1 style='tab-stops:21.0pt right dotted 522.8pt'><!--[if supportFields]><span
 lang=EN-US><span style='mso-element:field-begin'></span><span
 style='mso-spacerun:yes'>&nbsp;</span>TOC \o &quot;1-3&quot; \h \z \u <span
 style='mso-element:field-separator'></span></span><![endif]--><span
 lang=EN-US><a href="#_Toc362698525"><span style='font-family:"YaHei Consolas Hybrid","sans-serif";
 mso-fareast-font-family:微软雅黑;mso-no-proof:yes'>1</span><span style='font-family:
 "Calibri","sans-serif";mso-ascii-theme-font:minor-latin;mso-fareast-font-family:
 宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-latin;
 color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:"YaHei Consolas Hybrid";
 mso-hansi-font-family:"YaHei Consolas Hybrid";mso-no-proof:yes'><span
 lang=EN-US>前言</span></span><span style='color:windowtext;display:none;
 mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698525 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>1<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500320035000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc1 style='tab-stops:21.0pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698526"><span style='mso-no-proof:yes'>2</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>专业术语</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698526 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>1<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500320036000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc1 style='tab-stops:21.0pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698527"><span style='mso-no-proof:yes'>3</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>消息中间件需要解决哪些问题？</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698527 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>2<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500320037000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698528"><span style='mso-no-proof:yes'>3.1</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>Publish/Subscribe</span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698528 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>3<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500320038000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698529"><span style='mso-no-proof:yes'>3.2</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>Message Priority</span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698529 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>3<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500320039000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698530"><span style='mso-no-proof:yes'>3.3</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>Message Order</span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698530 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>3<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500330030000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698531"><span style='mso-no-proof:yes'>3.4</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>Message Filter</span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698531 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>4<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500330031000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698532"><span style='mso-no-proof:yes'>3.5</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>Message Persistence</span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698532 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>4<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500330032000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698533"><span style='mso-no-proof:yes'>3.6</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>Message Reliablity</span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698533 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>4<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500330033000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698534"><span style='mso-no-proof:yes'>3.7</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>Low Latency Messaging</span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698534 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>5<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500330034000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698535"><span style='mso-no-proof:yes'>3.8</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>At least Once</span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698535 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>5<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500330035000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698536"><span style='mso-no-proof:yes'>3.9</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>Exactly Only Once</span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698536 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>5<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500330036000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698537"><span style='mso-no-proof:yes'>3.10</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>Broker</span><span lang=EN-US style='font-family:
 "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
 mso-no-proof:yes'><span lang=EN-US>的</span></span><span style='mso-no-proof:
 yes'>Buffer</span><span lang=EN-US style='font-family:"微软雅黑","sans-serif";
 mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-no-proof:yes'><span
 lang=EN-US>满了怎么办？</span></span><span style='color:windowtext;display:none;
 mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698537 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>6<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500330037000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698538"><span style='mso-no-proof:yes'>3.11</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>回溯消费</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698538 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>6<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500330038000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698539"><span style='mso-no-proof:yes'>3.12</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>消息堆积</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698539 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>6<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500330039000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698540"><span style='mso-no-proof:yes'>3.13</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>分布式事务</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698540 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>7<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500340030000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc1 style='tab-stops:21.0pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698541"><span style='font-family:"YaHei Consolas Hybrid","sans-serif";
 mso-fareast-font-family:微软雅黑;mso-no-proof:yes'>4</span><span style='font-family:
 "Calibri","sans-serif";mso-ascii-theme-font:minor-latin;mso-fareast-font-family:
 宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-latin;
 color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:"YaHei Consolas Hybrid";
 mso-hansi-font-family:"YaHei Consolas Hybrid";mso-no-proof:yes'><span
 lang=EN-US>消息中间件实现</span></span><span style='color:windowtext;display:none;
 mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698541 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>8<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500340031000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698542"><span style='mso-no-proof:yes'>4.1</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>典型实现</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698542 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>8<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500340032000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698543"><span style='mso-no-proof:yes'>4.2</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>Apache Kafka</span><span lang=EN-US style='font-family:
 "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
 mso-no-proof:yes'><span lang=EN-US>实现</span></span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698543 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>8<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500340033000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698544"><span style='mso-no-proof:yes'>4.3</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>Push</span><span lang=EN-US style='font-family:"微软雅黑","sans-serif";
 mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-no-proof:yes'><span
 lang=EN-US>和</span></span><span style='mso-no-proof:yes'>Pull</span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698544 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>9<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500340034000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc1 style='tab-stops:21.0pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698545"><span style='font-family:"YaHei Consolas Hybrid","sans-serif";
 mso-fareast-font-family:微软雅黑;mso-no-proof:yes'>5</span><span style='font-family:
 "Calibri","sans-serif";mso-ascii-theme-font:minor-latin;mso-fareast-font-family:
 宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:minor-latin;
 color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='font-family:"YaHei Consolas Hybrid","sans-serif";mso-fareast-font-family:
 微软雅黑;mso-no-proof:yes'>RocketMQ Overview</span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698545 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>10<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500340035000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698546"><span style='mso-no-proof:yes'>5.1</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>RocketMQ</span><span lang=EN-US style='font-family:
 "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
 mso-no-proof:yes'><span lang=EN-US>与</span></span><span style='mso-no-proof:
 yes'>Apache Kafka</span><span lang=EN-US style='font-family:"微软雅黑","sans-serif";
 mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-no-proof:yes'><span
 lang=EN-US>的区别</span></span><span style='color:windowtext;display:none;
 mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698546 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>10<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500340036000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698547"><span style='mso-no-proof:yes'>5.2</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>RocketMQ</span><span lang=EN-US style='font-family:
 "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
 mso-no-proof:yes'><span lang=EN-US>与</span></span><span style='mso-no-proof:
 yes'>Kafka</span><span lang=EN-US style='font-family:"微软雅黑","sans-serif";
 mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-no-proof:yes'><span
 lang=EN-US>的关系</span></span><span style='color:windowtext;display:none;
 mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698547 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>11<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500340037000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698548"><span style='mso-no-proof:yes'>5.3</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>RocketMQ</span><span lang=EN-US style='font-family:
 "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
 mso-no-proof:yes'><span lang=EN-US>是什么？</span></span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698548 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>12<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500340038000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc1 style='tab-stops:21.0pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698549"><span style='mso-no-proof:yes'>6</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>RocketMQ</span><span lang=EN-US style='font-family:
 "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
 mso-no-proof:yes'><span lang=EN-US>存储特点</span></span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698549 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>13<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500340039000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698550"><span style='mso-no-proof:yes'>6.1</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>RocketMQ</span><span lang=EN-US style='font-family:
 "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
 mso-no-proof:yes'><span lang=EN-US>存储与</span></span><span style='mso-no-proof:
 yes'>DB</span><span lang=EN-US style='font-family:"微软雅黑","sans-serif";
 mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-no-proof:yes'><span
 lang=EN-US>存储、</span></span><span style='mso-no-proof:yes'>KV</span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>存储比较</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698550 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>13<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500350030000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698551"><span style='mso-no-proof:yes'>6.2</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>RocketMQ</span><span lang=EN-US style='font-family:
 "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
 mso-no-proof:yes'><span lang=EN-US>存储高性能原理</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698551 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>13<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500350031000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc1 style='tab-stops:21.0pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698552"><span style='mso-no-proof:yes'>7</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>RocketMQ</span><span lang=EN-US style='font-family:
 "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
 mso-no-proof:yes'><span lang=EN-US>关键特性原理</span></span><span style='color:
 windowtext;display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;
 text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698552 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>13<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500350032000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698553"><span style='mso-no-proof:yes'>7.1</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>单机如何实现</span></span><span
 style='mso-no-proof:yes'>1</span><span lang=EN-US style='font-family:"微软雅黑","sans-serif";
 mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-no-proof:yes'><span
 lang=EN-US>万以上个队列</span></span><span style='color:windowtext;display:none;
 mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698553 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>13<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500350033000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698554"><span style='mso-no-proof:yes'>7.2</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>刷盘策略</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698554 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>14<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500350034000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc3 style='tab-stops:84.0pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698555"><span style='mso-no-proof:yes'>7.2.1</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>异步刷盘</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698555 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>15<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500350035000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc3 style='tab-stops:84.0pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698556"><span style='mso-no-proof:yes'>7.2.2</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>同步刷盘</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698556 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>16<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500350036000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698557"><span style='mso-no-proof:yes'>7.3</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>服务器消息过滤</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698557 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>16<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500350037000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc3 style='tab-stops:84.0pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698558"><span style='mso-no-proof:yes'>7.3.1</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>单</span></span><span
 style='mso-no-proof:yes'>TAG</span><span lang=EN-US style='font-family:"微软雅黑","sans-serif";
 mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-no-proof:yes'><span
 lang=EN-US>过滤</span></span><span style='color:windowtext;display:none;
 mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698558 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>16<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500350038000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc3 style='tab-stops:84.0pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698559"><span style='mso-no-proof:yes'>7.3.2</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>多</span></span><span
 style='mso-no-proof:yes'>TAG</span><span lang=EN-US style='font-family:"微软雅黑","sans-serif";
 mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-no-proof:yes'><span
 lang=EN-US>过滤</span></span><span style='color:windowtext;display:none;
 mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698559 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>17<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500350039000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698560"><span style='mso-no-proof:yes'>7.4</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>消息查询</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698560 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>17<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500360030000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc3 style='tab-stops:84.0pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698561"><span style='mso-no-proof:yes'>7.4.1</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>按照</span></span><span
 style='mso-no-proof:yes'>MessageId</span><span lang=EN-US style='font-family:
 "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
 mso-no-proof:yes'><span lang=EN-US>查询消息</span></span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698561 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>17<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500360031000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc3 style='tab-stops:84.0pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698562"><span style='mso-no-proof:yes'>7.4.2</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>按照时间<span
 lang=EN-US>查询队列</span></span></span><span style='mso-no-proof:yes'>Offset</span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>. </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698562 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>18<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500360032000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc3 style='tab-stops:84.0pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698563"><span style='mso-no-proof:yes'>7.4.3</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>按照</span></span><span
 style='mso-no-proof:yes'>Message Key</span><span lang=EN-US style='font-family:
 "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
 mso-no-proof:yes'><span lang=EN-US>查询消息</span></span><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698563 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>19<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500360033000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698564"><span style='mso-no-proof:yes'>7.5</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>回溯消费</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698564 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>21<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500360034000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698565"><span style='mso-no-proof:yes'>7.6</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>长轮询</span></span><span
 style='mso-no-proof:yes'>Pull</span><span style='color:windowtext;display:
 none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'> </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698565 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>21<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500360035000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698566"><span style='mso-no-proof:yes'>7.7</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>顺序消息</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698566 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>21<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500360036000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698567"><span style='mso-no-proof:yes'>7.8</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>事务消息</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698567 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>21<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500360037000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698568"><span style='mso-no-proof:yes'>7.9</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>HA</span><span lang=EN-US style='font-family:"微软雅黑","sans-serif";
 mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-no-proof:yes'><span
 lang=EN-US>，同步双写</span></span><span style='color:windowtext;display:none;
 mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698568 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>21<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500360038000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698569"><span style='mso-no-proof:yes'>7.10</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 style='mso-no-proof:yes'>HA</span><span lang=EN-US style='font-family:"微软雅黑","sans-serif";
 mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-no-proof:yes'><span
 lang=EN-US>，异步复制</span></span><span style='color:windowtext;display:none;
 mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:none'><span
 style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698569 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>21<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500360039000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698570"><span style='mso-no-proof:yes'>7.11</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>单个</span></span><span
 style='mso-no-proof:yes'>JVM</span><span lang=EN-US style='font-family:"微软雅黑","sans-serif";
 mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-no-proof:yes'><span
 lang=EN-US>进程也能利用机器超大内存</span></span><span style='color:windowtext;display:
 none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698570 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>22<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500370030000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc2 style='tab-stops:52.5pt right dotted 522.8pt'><span
 lang=EN-US><a href="#_Toc362698571"><span style='mso-no-proof:yes'>7.12</span><span
 style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:minor-latin;
 mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;mso-hansi-theme-font:
 minor-latin;color:windowtext;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>消息堆积问题解决办法</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698571 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>23<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500370031000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoToc1 style='tab-stops:right dotted 522.8pt'><span lang=EN-US><a
 href="#_Toc362698572"><span lang=EN-US style='font-family:"微软雅黑","sans-serif";
 mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-no-proof:yes'><span
 lang=EN-US>附录</span></span><span style='mso-no-proof:yes'>A </span><span
 lang=EN-US style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
 mso-hansi-font-family:Candara;mso-no-proof:yes'><span lang=EN-US>参考文档、规范</span></span><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-tab-count:1 dotted'>... </span></span><!--[if supportFields]><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'><span style='mso-element:field-begin'></span>
 PAGEREF _Toc362698572 \h <span style='mso-element:field-separator'></span></span><![endif]--><span
 style='color:windowtext;display:none;mso-hide:screen;mso-no-proof:yes;
 text-decoration:none;text-underline:none'>23<!--[if gte mso 9]><xml>
  <w:data>08D0C9EA79F9BACE118C8200AA004BA90B02000000080000000E0000005F0054006F0063003300360032003600390038003500370032000000</w:data>
 </xml><![endif]--></span><!--[if supportFields]><span style='color:windowtext;
 display:none;mso-hide:screen;mso-no-proof:yes;text-decoration:none;text-underline:
 none'><span style='mso-element:field-end'></span></span><![endif]--></a></span><span
 lang=EN-US style='font-family:"Calibri","sans-serif";mso-ascii-theme-font:
 minor-latin;mso-fareast-font-family:宋体;mso-fareast-theme-font:minor-fareast;
 mso-hansi-theme-font:minor-latin;mso-no-proof:yes'><o:p></o:p></span></p>
 <p class=MsoNormal><!--[if supportFields]><span lang=EN-US><span
 style='mso-element:field-end'></span></span><![endif]--><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
</w:Sdt><span lang=EN-US style='font-size:10.5pt;mso-bidi-font-size:11.0pt;
font-family:"Candara","sans-serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:
"Times New Roman";mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN-US;
mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA'><br clear=all
style='mso-special-character:line-break;page-break-before:always'>
</span></div>

<span lang=EN-US style='font-size:10.5pt;mso-bidi-font-size:11.0pt;font-family:
"Candara","sans-serif";mso-fareast-font-family:微软雅黑;mso-bidi-font-family:"Times New Roman";
mso-bidi-theme-font:minor-bidi;mso-ansi-language:EN-US;mso-fareast-language:
ZH-CN;mso-bidi-language:AR-SA'><br clear=all style='page-break-before:always;
mso-break-type:section-break'>
</span>

<div class=WordSection3 style='layout-grid:15.6pt'>

<h1><a name="_Toc362698525"><![if !supportLists]><span lang=EN-US
style='font-family:"YaHei Consolas Hybrid","sans-serif";mso-bidi-font-family:
"YaHei Consolas Hybrid"'><span style='mso-list:Ignore'>1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:"YaHei Consolas Hybrid";mso-hansi-font-family:"YaHei Consolas Hybrid"'>前言</span></a><span
style='mso-bookmark:_Toc362698525'></span><span lang=EN-US style='font-family:
"YaHei Consolas Hybrid","sans-serif";mso-fareast-font-family:微软雅黑'><o:p></o:p></span></h1>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>本文档旨在描述</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>的多个关键特性的实现原理，以及</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>如何使用，并对消息中间件遇到的各种问题进行总结，阐述</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>如何解决这些问题。文中主要引用了</span><span
lang=EN-US>JMS</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>规范与</span><span lang=EN-US>CORBA Notification</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>规范，规范为我们设计系统指明了方向，但是仍有不少问题规范没有提及，对于消息中间件又至关重要。</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>并不遵循任何规范，但是参考了各种规范与其他产品的设计模式。</span></p>

<h1><a name="_Toc362698526"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>专业术语</span></a></h1>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-line-height-alt:9.0pt;mso-list:l3 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US>Producer<o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;mso-line-height-alt:
9.0pt'><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>消息生产者，负责产生消息，一般由业务系统负责产生消息。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-line-height-alt:9.0pt;mso-list:l3 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US>Consumer<o:p></o:p></span></b></p>

<p class=MsoListParagraph style='margin-left:21.0pt;mso-char-indent-count:0;
mso-line-height-alt:9.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息消费者，负责消费消息，一般是后台系统负责异步消费。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-line-height-alt:9.0pt;mso-list:l3 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US>Push Consumer<o:p></o:p></span></b></p>

<p class=MsoListParagraph style='margin-left:21.0pt;mso-char-indent-count:0;
mso-line-height-alt:9.0pt'><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的一种，应用通常向</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>对象注册一个</span><span lang=EN-US>Handler</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>接口，一旦收到消息，</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>对象立</span><span lang=EN-US><span
style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>刻回调</span><span lang=EN-US>Handler</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>接口方法。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-line-height-alt:9.0pt;mso-list:l3 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US>Pull Consumer<o:p></o:p></span></b></p>

<p class=MsoListParagraph style='margin-left:21.0pt;mso-char-indent-count:0;
mso-line-height-alt:9.0pt'><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的一种，应用通常主动调用</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的拉消息方法从</span><span lang=EN-US>Broker</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>拉消息，主动权由应用控制。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-line-height-alt:9.0pt;mso-list:l3 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US>Producer Group<o:p></o:p></span></b></p>

<p class=MsoListParagraph style='margin-left:21.0pt;mso-char-indent-count:0;
mso-line-height-alt:9.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>一类</span><span
lang=EN-US>Producer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>的集合名称，这类</span><span
lang=EN-US>Producer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>通常发送一类消息，且发送逻辑一致。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-line-height-alt:9.0pt;mso-list:l3 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US>Consumer Group<o:p></o:p></span></b></p>

<p class=MsoListParagraph style='margin-left:21.0pt;mso-char-indent-count:0;
mso-line-height-alt:9.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>一类</span><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>的集合名称，这类</span><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>通常消费一类消息，且消费逻辑一致。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-line-height-alt:9.0pt;mso-list:l3 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US>Broker<o:p></o:p></span></b></p>

<p class=MsoListParagraph style='margin-left:21.0pt;mso-char-indent-count:0;
mso-line-height-alt:9.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息中转角色，负责存储消息，转发消息，一般也称为</span><span
lang=EN-US>Server</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>。在</span><span
lang=EN-US>JMS</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>规范中称为</span><span lang=EN-US>Provider</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-line-height-alt:9.0pt;mso-list:l3 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>广播消费</span><span
lang=EN-US><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-left:42.0pt;mso-line-height-alt:9.0pt'><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>一条消息被多个</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>消费，即使这些</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>属于同一个</span><span lang=EN-US>Consumer Group</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，消息也会被</span><span lang=EN-US>Consumer Group</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>中的每个</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>都消费一次，广播消费中的</span><span lang=EN-US>Consumer
Group</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>概念可以认为在消息划分方面无意义。</span></p>

<p class=MsoNormal style='margin-left:21.0pt;text-indent:21.0pt;mso-line-height-alt:
9.0pt'><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>在</span><span lang=EN-US>CORBA Notification</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>规范中，消费方式都属于广播消费。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-line-height-alt:9.0pt;mso-list:l3 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>集群消费</span><span
lang=EN-US><o:p></o:p></span></b></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0;mso-line-height-alt:9.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>一个</span><span
lang=EN-US>Consumer Group</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>中的</span><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>实例平均分摊消费消息。例如某个</span><span
lang=EN-US>Topic</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>有</span><span lang=EN-US>9</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>条消息，其中一个</span><span lang=EN-US>Consumer Group</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>有</span><span lang=EN-US>3</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>个实例（可能是</span><span lang=EN-US>3</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>个进程，或者</span><span lang=EN-US>3</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>台机器），那么每个实例只消费其中的</span><span lang=EN-US>3</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>条消息。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-line-height-alt:9.0pt;mso-list:l3 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>顺序消息</span><span
lang=EN-US><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-left:42.0pt;mso-line-height-alt:9.0pt'><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>消费消息的顺序要同发送消息的顺序一致，在</span><span class=SpellE><span
lang=EN-US>RocketMQ</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>中，主要指的是局部顺序，即一类消息为满足顺序性，必须</span><span
lang=EN-US>Producer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>单线程顺序发送，且发送到同一个队列，这样</span><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>就可以按照</span><span
lang=EN-US>Producer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>发送的顺序去消费消息。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-line-height-alt:9.0pt;mso-list:l3 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>普通顺序消息</span><span
lang=EN-US><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-left:42.0pt;mso-line-height-alt:9.0pt'><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>顺序消息的一种，正常情况下可以保证完全的顺序消息，但是一旦发生通信异常，</span><span
lang=EN-US>Broker</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>重启，由于队列总数发生变化，哈希取模后定位的队列会变化，产生短暂的消息顺序不一致。</span></p>

<p class=MsoNormal style='margin-left:42.0pt;mso-line-height-alt:9.0pt'><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>如果业务能容忍在集群异常情况（如某个</span><span lang=EN-US>Broker</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>宕机或者重启）下，消息短暂的乱序，使用普通顺序方式比较合适。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-line-height-alt:9.0pt;mso-list:l3 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>严格顺序消息</span><span
lang=EN-US><o:p></o:p></span></b></p>

<p class=MsoNormal style='margin-left:42.0pt;mso-line-height-alt:9.0pt'><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>顺序消息的一种，无论正常异常情况都能保证顺序，但是牺牲了分布式</span><span
lang=EN-US>Failover</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>特性。如果服务器部署为同步双写模式，此缺陷可通过备机自动切换为主避免，不过仍然会存在几分钟的服务不可用。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-line-height-alt:9.0pt;mso-list:l3 level1 lfo3'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><b
style='mso-bidi-font-weight:normal'><span lang=EN-US>Message Queue<o:p></o:p></span></b></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0'><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>在</span><span class=SpellE><span lang=EN-US>RocketMQ</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>中，所有消息队列都是持久化，长度无限的数据结构，所谓长度无限是指队列中的每个存储单元都是定长，访问其中的存储单元使用</span><span
lang=EN-US>Offset</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>来访问，</span><span
lang=EN-US>offset</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>为</span><span
lang=EN-US>java long</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>类型，</span><span
lang=EN-US>64</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>位，理论上在</span><span lang=EN-US>100</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>年内不会溢出，所以认为是长度无限，另外队列中只保存最近几天的数据，之前的数据会按照过期时间来删除。</span></p>

<h1><a name="_Toc362698527"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息中间件需要解决哪些问题？</span></a></h1>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>本节阐述消息中间件通常需要解决哪些问题，在解决这些问题当中会遇到什么困难，</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>是否可以解决，规范中如何定义这些问题。</span></p>

<h2><a name="_Toc362698528"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>3.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Publish/Subscribe</span></a></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>发布订阅是消息中间件的最基本功能，也是相对于传统</span><span
lang=EN-US>RPC</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>通信而言。在此不再详述。</span></p>

<h2><a name="_Toc362698529"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>3.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Message Priority</span></a></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>规范中描述的优先级是指在一个消息队列中，每条消息都有不同的优先级，一般用整数来描述，优先级高的消息先投递，如果消息完全在一个内存队列中，那么在投递前可以按照优先级排序，令优先级高的先投递。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>由于</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>所有消息都是持久化的，所以如果按照优先级来排序，开销会非常大，因此</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>没有特意支持消息优先级，但是可以通过变通的方式实现类似功能，即单独配置一个优先级高的队列，和一个普通优先级的队列，</span>
<span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>将不同优先级发送到不同队列即可。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>对于优先级问题，可以归纳为</span><span
lang=EN-US>2</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>类</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l9 level1 lfo31'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>只要达到优先级目的即可，不是严格意义上的优先级，通常将优先级划分为高、中、低，或者再多几个级别。每个优先级可以用不同的</span><span
lang=EN-US>topic</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>表示，发消息时，指定不同的</span><span lang=EN-US>topic</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>来表示优先级，这种方式可以解决绝大部分的优先级问题，但是对业务的优先级精确性做了妥协。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l9 level1 lfo31'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>严格的优先级，优先级用整数表示，例如</span><span
lang=EN-US>0 ~ 65535</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>，这种优先级问题一般使用不同</span><span
lang=EN-US>topic</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>解决就非常不合适。如果要让</span><span lang=EN-US>MQ</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>解决此问题，会对</span><span lang=EN-US>MQ</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的性能造成非常大的影响。这里要确保一点，业务上是否确实需要这种严格的优先级，如果将优先级压缩成几个，对业务的影响有多大？</span></p>

<h2><a name="_Toc362698530"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>3.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Message Order</span></a></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息有序指的是一类消息消费时，能按照发送的顺序来消费。例如：一个订单产生了</span><span
lang=EN-US>3</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>条消息，分别是订单创建，订单付款，订单完成。消费时，要按照这个顺序消费才能有意义。但是同时订单之间是可以并行消费的。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span class=SpellE><span
lang=EN-US>RocketMQ</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>可以严格的保证消息有序。</span></p>

<h2><a name="_Toc362698531"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>3.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Message Filter</span></a></h2>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l5 level1 lfo7'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>Broker</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>端消息过滤</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0'><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>在</span><span lang=EN-US>Broker</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>中，按照</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的要求做过滤，优点是减少了对于</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>无用消息的网络传输。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0'><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>缺点是增加了</span><span lang=EN-US>Broker</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的负担，实现相对复杂。</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l18 level1 lfo8'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>淘宝</span><span
lang=EN-US>Notify</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>支持多种过滤方式，包含直接按照消息类型过滤，灵活的语法表达式过滤，几乎可以满足最苛刻的过滤需求。</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l18 level1 lfo8'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>淘宝</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>只支持按照简单的</span><span
lang=EN-US>Message Tag</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>过滤。</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l18 level1 lfo8'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(3).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>CORBA Notification</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>规范中也支持灵活的语法表达式过滤。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l5 level1 lfo7'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>端消息过滤</span></p>

<p class=MsoNormal style='margin-left:42.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>这种过滤方式可由应用完全自定义实现，但是缺点是很多无用的消息要传输到</span><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>端。</span></p>

<h2><a name="_Toc362698532"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>3.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Message Persistence</span></a></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>几种持久化方式：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l31 level1 lfo10'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>持久化到数据库，例如</span><span
class=SpellE><span lang=EN-US>Mysql</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l31 level1 lfo10'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>持久化到</span><span
lang=EN-US>KV</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>存储，例如</span><span class=SpellE><span
lang=EN-US>levelDB</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>、伯克利</span><span
lang=EN-US>DB</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>等</span><span lang=EN-US>KV</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>存储系统。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l31 level1 lfo10'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(3).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>文件记录形式持久化，例如</span><span
lang=EN-US>Kafka</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>，</span><span class=SpellE><span
lang=EN-US>RocketMQ</span></span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l31 level1 lfo10'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(4).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>对内存数据做一个持久化镜像，例如</span><span
class=SpellE><span lang=EN-US>beanstalkd</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>，</span><span
class=SpellE><span lang=EN-US>VisiNotify</span></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>(1)</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>、</span><span lang=EN-US>(2)</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>、</span><span lang=EN-US>(3)</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>三种持久化方式都具有将内存队列</span><span lang=EN-US>Buffer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>进行扩展的能力，</span><span lang=EN-US>(4)</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>只是一个内存的镜像，作用是当</span><span lang=EN-US>Broker</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>挂掉重启后仍然能将之前内存的数据恢复出来。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>JMS</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>与</span><span lang=EN-US>CORBA Notification</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>规范没有明确说明如何持久化，但是持久化部分的性能直接决定了整个消息中间件的性能。</span></p>

<h2><a name="_Toc362698533"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>3.6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Message </span></a><span
class=SpellE><span style='mso-bookmark:_Toc362698533'><span lang=EN-US>Reliablity</span></span></span><span
style='mso-bookmark:_Toc362698533'></span><span lang=EN-US> </span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>影响消息可靠性的几种情况：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l11 level1 lfo15'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Broker</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>正常关闭</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l11 level1 lfo15'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Broker</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>异常</span><span lang=EN-US>Crash</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l11 level1 lfo15'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(3).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>OS Crash</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l11 level1 lfo15'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(4).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>机器掉电，但是能立即恢复供电情况。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l11 level1 lfo15'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(5).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>机器无法开机（可能是</span><span
class=SpellE><span lang=EN-US>cpu</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>、主板、内存等关键设备损坏）</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l11 level1 lfo15'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(6).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>磁盘设备损坏。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>(1)</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>、</span><span lang=EN-US>(2)</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>、</span><span lang=EN-US>(3)</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>、</span><span lang=EN-US>(4)</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>四种情况都属于硬件资源可立即恢复情况，</span><span class=SpellE><span
lang=EN-US>RocketMQ</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>在这四种情况下能保证消息不丢，或者丢失少量数据（依赖刷盘方式是同步还是异步）。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>(5)</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>、</span><span lang=EN-US>(6)</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>属于单点故障，且无法恢复，一旦发生，在此单点上的消息全部丢失。</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>在这两种情况下，通过异步复制，可保证</span><span
lang=EN-US>99%</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>的消息不丢，但是仍然会有极少量的消息可能丢失。未来版本会通过同步双写技术来完全避免单点，同步双写势必会影响性能，适合对消息可靠性要求极高的场合，例如与</span><span
lang=EN-US>Money</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>相关的应用。</span></p>

<h2><a name="_Toc362698534"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>3.7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Low Latency Messaging</span></a></h2>

<p class=MsoNormal><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>在消息不堆积情况下，消息到达</span><span lang=EN-US>Broker</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>后，能立刻到达</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>。</span></p>

<p class=MsoNormal><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span
class=SpellE>RocketMQ</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>使用长轮询</span><span
lang=EN-US>Pull</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>方式，可保证消息非常实时，消息实时性不低于</span><span
lang=EN-US>Push</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>。</span></p>

<h2><a name="_Toc362698535"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>3.8<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>At least Once</span></a></h2>

<p class=MsoNormal style='margin-left:10.5pt;mso-para-margin-left:1.0gd'><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>是指每个消息必须投递一次</span></p>

<p class=MsoNormal style='margin-left:10.5pt;mso-para-margin-left:1.0gd'><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>支持此特性。</span></p>

<h2><a name="_Toc362698536"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>3.9<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Exactly Only Once</span></a></h2>

<p class=MsoNormal><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>我对于此特性的理解：</span></p>

<p class=MsoListParagraph style='margin-left:42.05pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l30 level1 lfo9'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>发送消息阶段，不允许发送重复的消息。</span></p>

<p class=MsoListParagraph style='margin-left:42.05pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l30 level1 lfo9'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消费消息阶段，不允许消费重复的消息。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>只有以上两个条件都满足情况下，才能认为消息是“</span><span
lang=EN-US>Exactly Only Once</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>”，而要实现以上两点，在分布式系统环境下，不可避免要产生巨大的开销。所以</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>为了追求高性能，并不保证此特性，要求在业务上进行去重，也就是说消费消息要做到幂等性。</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>虽然不能严格保证不重复，但是正常情况下很少会出现重复发送、消费情况，只有网络异常，</span><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>启停等异常情况下会出现消息重复。</span></p>

<h2><a name="_Toc362698537"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>3.10<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Broker</span></a><span
style='mso-bookmark:_Toc362698537'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>的</span><span lang=EN-US>Buffer</span></span><span
style='mso-bookmark:_Toc362698537'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>满了怎么办？</span></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>Broker</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的</span><span lang=EN-US>Buffer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>通常指的是</span><span lang=EN-US>Broker</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>中一个队列的内存</span><span lang=EN-US>Buffer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>大小，这类</span><span lang=EN-US>Buffer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>通常大小有限，如果</span><span lang=EN-US>Buffer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>满了以后怎么办？</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>下面是</span><span
lang=EN-US>CORBA Notification</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>规范中处理方式：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l25 level1 lfo11'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=SpellE><span lang=EN-US>RejectNewEvents</span></span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0'><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>拒绝新来的消息，向</span><span lang=EN-US>Producer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>返回</span><span class=SpellE><span lang=EN-US>RejectNewEvents</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>错误码。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l25 level1 lfo11'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>按照特定策略丢弃已有消息</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;mso-para-margin-left:4.0gd;
text-indent:-21.0pt;mso-char-indent-count:0;mso-list:l15 level4 lfo12'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=SpellE><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>AnyOrder</span></b></span><span lang=EN-US> - Any
event may be discarded on overflow. This is the default setting for this</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;mso-para-margin-left:6.0gd;
text-indent:0cm;mso-char-indent-count:0'><span lang=EN-US>property.</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;mso-para-margin-left:4.0gd;
text-indent:-21.0pt;mso-char-indent-count:0;mso-list:l15 level4 lfo12'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=SpellE><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>FifoOrder</span></b></span><span lang=EN-US> - The
first event received will be the first discarded.</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;mso-para-margin-left:4.0gd;
text-indent:-21.0pt;mso-char-indent-count:0;mso-list:l15 level4 lfo12'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>c)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=SpellE><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>LifoOrder</span></b></span><span lang=EN-US> - The
last event received will be the first discarded.</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;mso-para-margin-left:4.0gd;
text-indent:-21.0pt;mso-char-indent-count:0;mso-list:l15 level4 lfo12'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>d)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=SpellE><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>PriorityOrder</span></b></span><span lang=EN-US> -
Events should be discarded in priority order, such that lower priority</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;mso-para-margin-left:6.0gd;
text-indent:0cm;mso-char-indent-count:0'><span lang=EN-US>events will be
discarded before higher priority events.</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;mso-para-margin-left:4.0gd;
text-indent:-21.0pt;mso-char-indent-count:0;mso-list:l15 level4 lfo12'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>e)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=SpellE><b style='mso-bidi-font-weight:
normal'><span lang=EN-US>DeadlineOrder</span></b></span><span lang=EN-US> -
Events should be discarded in the order of shortest expiry deadline first.</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0'><span class=SpellE><span lang=EN-US>RocketMQ</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>没有内存</span><span lang=EN-US>Buffer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>概念，</span><span class=SpellE><span lang=EN-US>RocketMQ</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的队列都是持久化磁盘，数据定期清除。</span></p>

<h2><a name="_Toc362698538"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>3.11<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>回溯消费</span></a></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>回溯消费是指</span><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>已经消费成功的消息，由于业务上需求需要重新消费，要支持此功能，</span><span
lang=EN-US>Broker</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>在向</span><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>投递成功消息后，消息仍然需要保留。并且重新消费一般是按照时间维度，例如由于</span><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>系统故障，恢复后需要重新消费</span><span
lang=EN-US>1</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>小时前的数据，那么</span><span lang=EN-US>Broker</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>要提供一种机制，可以按照时间维度来回退消费进度。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span class=SpellE><span
lang=EN-US>RocketMQ</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>支持按照时间回溯消费，时间维度精确到毫秒。</span></p>

<h2><a name="_Toc362698539"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>3.12<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>消息堆积</span></a></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>Messaging System</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的主要功能是异步解耦，还有个重要功能是挡住前端的数据洪峰，保证后端系统的稳定性，这就要求</span><span
lang=EN-US>Messaging System</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>具有一定的消息堆积能力，消息堆积分以下两种情况：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l17 level1 lfo13'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息堆积在内存</span><span
lang=EN-US>Buffer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>，一旦超过内存</span><span
lang=EN-US>Buffer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>，可以根据一定的丢弃策略来丢弃消息，如</span><span
lang=EN-US>CORBA Notification</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>规范中描述。适合能容忍丢弃消息的业务，这种情况消息的堆积能力主要在于内存</span><span
lang=EN-US>Buffer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>大小，而且消息堆积后，性能下降不会太大，因为内存中数据多少对于对外提供的访问能力影响有限。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l17 level1 lfo13'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息堆积到持久化存储系统中，例如</span><span
lang=EN-US>DB</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>，</span><span lang=EN-US>KV</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>存储，文件记录形式。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0'><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>当消息不能在内存</span><span lang=EN-US>Cache</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>命中时，要不可避免的访问磁盘，会产生大量读</span><span lang=EN-US>IO</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，读</span><span lang=EN-US>IO</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的吞吐量直接决定了消息堆积后的访问能力。</span></p>

<p class=MsoNormal><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>评估消息堆积能力主要有以下四点：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l33 level1 lfo14'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息能堆积多少条，多少字节？即消息的堆积容量。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l33 level1 lfo14'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息堆积后，发消息的吞吐量大小，是否会受堆积影响？</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l33 level1 lfo14'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(3).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息堆积后，正常消费的</span><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>是否会受影响？</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l33 level1 lfo14'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(4).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息堆积后，访问堆积在磁盘的消息时，吞吐量有多大？</span></p>

<h2><a name="_Toc362698540"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>3.13<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>分布式事务</span></a></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>已知的几个分布式事务规范，如</span><span
lang=EN-US>XA</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>，</span><span lang=EN-US>JTA</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>等。其中</span><span lang=EN-US>XA</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>规范被各大数据库厂商广泛支持，如</span><span lang=EN-US>Oracle</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，</span><span class=SpellE><span lang=EN-US>Mysql</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>等。其中</span><span lang=EN-US>XA</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的</span><span lang=EN-US>TM</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>实现佼佼者如</span><span lang=EN-US>Oracle Tuxedo</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，在金融、电信等领域被广泛应用。</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span class=SpellE><span
lang=EN-US>RocketMQ</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>支持分布式事务。</span></p>

<h1><a name="_Toc362698541"><![if !supportLists]><span lang=EN-US
style='font-family:"YaHei Consolas Hybrid","sans-serif";mso-bidi-font-family:
"YaHei Consolas Hybrid"'><span style='mso-list:Ignore'>4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:"YaHei Consolas Hybrid";mso-hansi-font-family:"YaHei Consolas Hybrid"'>消息中间件实现</span></a><span
style='mso-bookmark:_Toc362698541'></span><span lang=EN-US style='font-family:
"YaHei Consolas Hybrid","sans-serif";mso-fareast-font-family:微软雅黑'><o:p></o:p></span></h1>

<h2><a name="_Toc362698542"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>4.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>典型实现</span></a></h2>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US><v:shapetype id="_x0000_t75" coordsize="21600,21600" o:spt="75"
 o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe" filled="f" stroked="f">
 <v:stroke joinstyle="miter"/>
 <v:formulas>
  <v:f eqn="if lineDrawn pixelLineWidth 0"/>
  <v:f eqn="sum @0 1 0"/>
  <v:f eqn="sum 0 0 @1"/>
  <v:f eqn="prod @2 1 2"/>
  <v:f eqn="prod @3 21600 pixelWidth"/>
  <v:f eqn="prod @3 21600 pixelHeight"/>
  <v:f eqn="sum @0 0 1"/>
  <v:f eqn="prod @6 1 2"/>
  <v:f eqn="prod @7 21600 pixelWidth"/>
  <v:f eqn="sum @8 21600 0"/>
  <v:f eqn="prod @7 21600 pixelHeight"/>
  <v:f eqn="sum @10 21600 0"/>
 </v:formulas>
 <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
 <o:lock v:ext="edit" aspectratio="t"/>
</v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:522.75pt;
 height:188.25pt' o:ole="">
 <v:imagedata src="index.files/image001.emz" o:title=""/>
</v:shape><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="Visio.Drawing.11" ShapeID="_x0000_i1025"
  DrawAspect="Content" ObjectID="_1437719048">
 </o:OLEObject>
</xml><![endif]--></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>图表</span> <!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>5</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>图表</span><span lang=EN-US> \* ARABIC
\s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>1</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US> Messaging System</span></p>

<p class=MsoNormal><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>一个典型的消息中间件实现一般分为以下几部分：</span></p>

<p class=MsoListParagraph style='margin-left:42.05pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l23 level1 lfo16'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息接收阶段，收到消息后，存储到存储模块，可以是本地</span><span
lang=EN-US>KV</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>存储、文件记录存储、远程</span><span lang=EN-US>DB</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>、或其他存储模式，然后将消息转发至</span><span lang=EN-US>Dispatch</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>处理流程。</span></p>

<p class=MsoListParagraph style='margin-left:42.05pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l23 level1 lfo16'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息分发阶段，可能的操作包含消息过滤、分发到特定队列或者</span><span
lang=EN-US>Consumer Group</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>队列。</span></p>

<p class=MsoListParagraph style='margin-left:42.05pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l23 level1 lfo16'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(3).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息投递阶段，直接与</span><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>进行通信，可以是主动投递或者被动投递。</span></p>

<h2><a name="_Toc362698543"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>4.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Apache Kafka</span></a><span
style='mso-bookmark:_Toc362698543'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>实现</span></span></h2>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US>Apache Kafka is
a distributed publish-subscribe messaging system. It is designed to support the
following.</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l32 level1 lfo17'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>Persistent messaging with O(1) disk structures that provide constant
time performance even with many TB of stored messages.</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l32 level1 lfo17'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>High-throughput: even with very modest hardware Kafka can support
hundreds of thousands of messages per second.</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l32 level1 lfo17'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>Explicit support for partitioning messages over Kafka servers and
distributing consumption over a cluster of consumer machines while maintaining
per-partition ordering semantics.</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l32 level1 lfo17'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>Support for parallel data load into <span class=SpellE>Hadoop</span>.</span></p>

<p class=MsoNormal style='text-indent:21.0pt;mso-layout-grid-align:none'><span
lang=EN-US>Kafka provides a publish-subscribe solution that can handle all
activity stream data and processing on a consumer-scale web site. This kind of
activity (page views, searches, and other user actions) are a key ingredient in
many of the social feature on the modern web. This data is typically handled by
&quot;logging&quot; and ad hoc log aggregation solutions due to the throughput
requirements. This kind of ad hoc solution is a viable solution to providing
logging data to an offline analysis system like <span class=SpellE>Hadoop</span>,
but is very limiting for building real-time processing. Kafka aims to unify
offline and online processing by providing a mechanism for parallel load into <span
class=SpellE>Hadoop</span> as well as the ability to partition real-time
consumption over a cluster of machines.</span></p>

<p class=MsoNormal style='text-indent:21.0pt;mso-layout-grid-align:none'><span
lang=EN-US>The use for activity stream processing makes Kafka comparable to <span
class=SpellE>Facebook's</span> Scribe or Apache Flume (incubating), though the
architecture and primitives are very different for these systems and make Kafka
more comparable to a traditional messaging system. See our design page for more
details.</span></p>

<p class=MsoNormal style='text-indent:21.0pt;mso-layout-grid-align:none'><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>以上文字摘自</span><span lang=EN-US>Apache Kafka</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>官方网站，</span><span lang=EN-US>Kafka</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>详细资料，请参照官方网站，此文不再详述。</span></p>

<p class=MsoNormal style='text-indent:21.0pt;mso-layout-grid-align:none'><span
lang=EN-US><a href="http://kafka.apache.org/">http://kafka.apache.org/</a></span></p>

<p class=MsoNormal style='text-indent:21.0pt;mso-layout-grid-align:none'><span
lang=EN-US>Kafka</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>是一个实现非常特别的消息中间件，同我们的典型实现区别较大，跳出了各种消息中间件规范定义的思维模式，按照我的理解总结如下：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l7 level1 lfo18;mso-layout-grid-align:none'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Kafka</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的设计初衷消息是面向堆积需求的，读优先级高于写优先级，优先为读消息准备，所以无论堆积的消息多少，消费能力都很强。（前提是分区数在一定范围内）</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l7 level1 lfo18;mso-layout-grid-align:none'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Kafka</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>是面向广播消费类型的，对广播支持友好，并且也支持集群消费模式。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l7 level1 lfo18;mso-layout-grid-align:none'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(3).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>不维护单个消息的消费状态，无论是否消费，只要超过保留时间就删除。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l7 level1 lfo18;mso-layout-grid-align:none'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(4).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>分区数是一个重要的功能、性能指标，分区数支持过少会影响消费的并行度，以及单机能支持的</span><span
lang=EN-US>topic</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>数。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l7 level1 lfo18;mso-layout-grid-align:none'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(5).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>很适合日志收集类应用。</span></p>

<h2><a name="_Toc362698544"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>4.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Push</span></a><span
style='mso-bookmark:_Toc362698544'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>和</span><span lang=EN-US>Pull</span></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span lang=EN-US>push</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>与</span><span lang=EN-US>pull</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>是两种数据通信方式，在</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>从</span><span lang=EN-US>Broker</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>获取消息过程中会用到这两种方式，区别如下：</span></p>

<div align=center>

<table class=MsoTableGrid border=1 cellspacing=0 cellpadding=0
 style='border-collapse:collapse;border:none;mso-border-alt:solid windowtext .5pt;
 mso-yfti-tbllook:1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes'>
  <td width=237 style='width:178.0pt;border:solid windowtext 1.0pt;mso-border-alt:
  solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>
  </td>
  <td width=237 style='width:178.05pt;border:solid windowtext 1.0pt;border-left:
  none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span lang=EN-US>Push<o:p></o:p></span></b></p>
  </td>
  <td width=237 style='width:178.05pt;border:solid windowtext 1.0pt;border-left:
  none;mso-border-left-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=center style='text-align:center'><b
  style='mso-bidi-font-weight:normal'><span lang=EN-US>Pull<o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1'>
  <td width=237 style='width:178.0pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>数据传输状态</span></p>
  </td>
  <td width=237 style='width:178.05pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>保存在</span><span
  lang=EN-US>Broker</span><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>端</span></p>
  </td>
  <td width=237 style='width:178.05pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>保存在</span><span
  lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>端</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2'>
  <td width=237 style='width:178.0pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>传输失败，重试</span></p>
  </td>
  <td width=237 style='width:178.05pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>Broker</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>需要维护每次传输状态，遇到失败情况需要重试</span></p>
  </td>
  <td width=237 style='width:178.05pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>不需要</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3'>
  <td width=237 style='width:178.0pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>数据传输实时性</span></p>
  </td>
  <td width=237 style='width:178.05pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>非常实时</span></p>
  </td>
  <td width=237 style='width:178.05pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoListParagraph align=left style='margin-left:21.0pt;text-align:
  left;text-indent:-21.0pt;mso-char-indent-count:0;mso-list:l0 level1 lfo19'><![if !supportLists]><span
  lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
  style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
  </span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>默认的短轮询方式实时性依赖</span><span
  lang=EN-US>pull</span><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>间隔时间，间隔越大实时性越低。</span></p>
  <p class=MsoListParagraph align=left style='margin-left:21.0pt;text-align:
  left;text-indent:-21.0pt;mso-char-indent-count:0;mso-list:l0 level1 lfo19'><![if !supportLists]><span
  lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
  style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
  </span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>长轮询模式实时性与</span><span
  lang=EN-US>push</span><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>一致。</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;mso-yfti-lastrow:yes'>
  <td width=237 style='width:178.0pt;border:solid windowtext 1.0pt;border-top:
  none;mso-border-top-alt:solid windowtext .5pt;mso-border-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>流控机制</span></p>
  </td>
  <td width=237 style='width:178.05pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>Broker</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>需要依据</span><span lang=EN-US>Consumer</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>的消费能力做流控。</span></p>
  </td>
  <td width=237 style='width:178.05pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-top-alt:solid windowtext .5pt;mso-border-left-alt:solid windowtext .5pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt'>
  <p class=MsoNormal align=left style='text-align:left'><span lang=EN-US>Consumer</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>可以根据自身消费能力决定是否去</span><span lang=EN-US>pull
  message</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>。</span></p>
  </td>
 </tr>
</table>

</div>

<h1><a name="_Toc362698545"><![if !supportLists]><span lang=EN-US
style='font-family:"YaHei Consolas Hybrid","sans-serif";mso-bidi-font-family:
"YaHei Consolas Hybrid"'><span style='mso-list:Ignore'>5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]></a><span class=SpellE><span style='mso-bookmark:
_Toc362698545'><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif";
mso-fareast-font-family:微软雅黑'>RocketMQ</span></span></span><span
style='mso-bookmark:_Toc362698545'><span lang=EN-US style='font-family:"YaHei Consolas Hybrid","sans-serif";
mso-fareast-font-family:微软雅黑'> Overview</span></span><span lang=EN-US
style='font-family:"YaHei Consolas Hybrid","sans-serif";mso-fareast-font-family:
微软雅黑'><o:p></o:p></span></h1>

<h2><a name="_Toc362698546"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>5.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]></a><span class=SpellE><span style='mso-bookmark:
_Toc362698546'><span lang=EN-US>RocketMQ</span></span></span><span
style='mso-bookmark:_Toc362698546'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>与</span><span lang=EN-US>Apache Kafka</span></span><span
style='mso-bookmark:_Toc362698546'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>的区别</span></span></h2>

<p class=MsoCaption align=center style='text-align:center;page-break-after:
avoid'><span style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:
major-latin;mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>表格</span>
<!--[if supportFields]><span lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>6</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>表格</span><span lang=EN-US> \* ARABIC
\s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>1</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US><span class=SpellE>RocketMQ</span></span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>与</span><span lang=EN-US>Kafka</span><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>区别</span></p>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=680
 style='width:510.15pt;margin-left:4.7pt;border-collapse:collapse;mso-yfti-tbllook:
 1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:31.5pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  mso-border-alt:solid windowtext .5pt;padding:0cm 5.4pt 0cm 5.4pt;height:31.5pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>　</span><span lang=EN-US><o:p></o:p></span></b></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-top-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;background:
  #92D050;padding:0cm 5.4pt 0cm 5.4pt;height:31.5pt'>
  <p class=MsoNormal><b style='mso-bidi-font-weight:normal'><span lang=EN-US>Apache
  Kafka<o:p></o:p></span></b></p>
  </td>
  <td width=284 nowrap style='width:213.15pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-top-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;background:
  #92D050;padding:0cm 5.4pt 0cm 5.4pt;height:31.5pt'>
  <p class=MsoNormal><span class=SpellE><b style='mso-bidi-font-weight:normal'><span
  lang=EN-US>Alibaba</span></b></span><b style='mso-bidi-font-weight:normal'><span
  lang=EN-US> <span class=SpellE>RocketMQ</span><o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>队列数</span></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>队列（分区）过多会</span><span lang=EN-US>Load</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>升高</span></p>
  </td>
  <td width=284 nowrap style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>单机</span><span lang=EN-US>5</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>万以上</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;height:30.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:30.0pt'>
  <p class=MsoNormal><span lang=EN-US>SATA</span><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>盘下性能</span></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:30.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>性能极低</span></p>
  </td>
  <td width=284 style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:30.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>由于</span><span lang=EN-US>PAGECACHE</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>作用，以及刷盘方式的不同，性能接近</span><span lang=EN-US>SAS</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>盘</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>服务端消息过滤</span></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>不支持</span></p>
  </td>
  <td width=284 nowrap style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>支持，并且在服务端支持与或表达式过滤</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>按照时间回溯</span></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>不支持</span></p>
  </td>
  <td width=284 nowrap style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>支持</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:5;height:60.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:60.0pt'>
  <p class=MsoNormal><span lang=EN-US>Consumer</span><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>订阅实时性</span></p>
  </td>
  <td width=237 style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:60.0pt'>
  <p class=MsoNormal><span lang=EN-US>1</span><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>、数据落盘后，才可被订阅</span><span
  lang=EN-US><br>
  2</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>、</span><span lang=EN-US>Consumer Pull</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>最大间隔时间</span></p>
  </td>
  <td width=284 style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:60.0pt'>
  <p class=MsoNormal><span lang=EN-US>1</span><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>、数据进入</span><span
  lang=EN-US>Broker</span><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>，只要写入</span><span
  class=SpellE><span lang=EN-US>Pagecache</span></span><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>，即使没有刷盘，也可以被订阅</span><span
  lang=EN-US><br>
  2</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>、</span><span lang=EN-US>Consumer</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>采用长轮询方式，实时性同</span><span lang=EN-US>Push</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>方式一致</span></p>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>综上，</span><span class=SpellE><span
  lang=EN-US>RocketMQ</span></span><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>消息延时非常低，实测平均在</span><span
  lang=EN-US>10ms</span><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>以内</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:6;height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>异步刷盘实时性</span></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>按照条数与时间刷盘，实时性低</span></p>
  </td>
  <td width=284 nowrap style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>后台线程实时刷盘，刷盘几乎无延时</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:7;height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>同步刷盘</span></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>不支持</span></p>
  </td>
  <td width=284 nowrap style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>支持，且性能接近异步刷盘</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:8;height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>异步复制</span></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>不支持</span></p>
  </td>
  <td width=284 nowrap style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>支持</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:9;height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>同步双写</span></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>不支持</span></p>
  </td>
  <td width=284 nowrap style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>支持，且性能接近单写一个</span><span lang=EN-US>Broker</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:10;height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>消息查询</span></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>不支持</span></p>
  </td>
  <td width=284 nowrap style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>支持，支持按照消息</span><span lang=EN-US>ID</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>、消息</span><span lang=EN-US>key</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara'>查询消息</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:11;height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>分布式事务</span></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>不支持</span></p>
  </td>
  <td width=284 nowrap style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>支持</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:12;height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>定时消息</span></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>不支持</span></p>
  </td>
  <td width=284 nowrap style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>支持</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:13;height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>服务端消息重试</span></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>不支持</span></p>
  </td>
  <td width=284 nowrap style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>支持</span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:14;mso-yfti-lastrow:yes;height:15.0pt'>
  <td width=159 nowrap style='width:119.0pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>单队列并行消费</span></p>
  </td>
  <td width=237 nowrap style='width:178.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>不支持</span></p>
  </td>
  <td width=284 nowrap style='width:213.15pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:15.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara'>支持</span></p>
  </td>
 </tr>
</table>

<h2><a name="_Toc362698547"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>5.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]></a><span class=SpellE><span style='mso-bookmark:
_Toc362698547'><span lang=EN-US>RocketMQ</span></span></span><span
style='mso-bookmark:_Toc362698547'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>与</span><span lang=EN-US>Kafka</span></span><span
style='mso-bookmark:_Toc362698547'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>的关系</span></span></h2>

<p class=MsoNormal><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Kafka</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>定位于日志传输场景，但是</span><span class=SpellE><span
lang=EN-US>RocketMQ</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>不仅做日志传输，在阿里很多关键业务系统都用到了</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>。</span></p>

<p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>不得不说一点，</span><span class=SpellE><span
lang=EN-US>RocketMQ</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>借鉴了</span><span
lang=EN-US>Kafka</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>的设计思想，可能会有不少网友认为</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>仅仅是</span><span
lang=EN-US>Kafka</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>的一个山寨版。</span></p>

<p class=MsoNormal><span lang=EN-US><span style='mso-tab-count:1'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>这里表述下我的个人观点：</span></p>

<p class=MsoListParagraph style='margin-left:42.05pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l27 level1 lfo32'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>1)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=SpellE><span lang=EN-US>RocketMQ</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>在参考</span><span lang=EN-US>Kafka</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>设计思想的同时，做到了取其精华，去其糟粕。解决了分区数限制、消息实时性、可靠性等问题。</span></p>

<p class=MsoListParagraph style='margin-left:42.05pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l27 level1 lfo32'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>2)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>3.x</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>版本的</span><span class=SpellE><span lang=EN-US>RocketMQ</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>存储模型已经完全脱离了</span><span lang=EN-US>Kafka</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的设计初衷，每个队列（分区）不存储数据，仅仅存储数据的位置信息。并且为消息创建了索引，可以根据消息内容查询消息。</span></p>

<p class=MsoListParagraph style='margin-left:42.05pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l27 level1 lfo32'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>3)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=SpellE><span lang=EN-US>RocketMQ</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>定位于队列模型消息中间件，这里的队列模型参考了</span><span lang=EN-US>Kafka</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>分区的组织方式，即对于消息生产者轮询发送消息到不同的队列，消息消费者平均分配队列，来达到平均消费消息的目的。（个人认为</span><span
lang=EN-US>Kafka</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>分区组织方式是其最大亮点）</span></p>

<p class=MsoListParagraph style='margin-left:42.05pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l27 level1 lfo32'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>4)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span class=SpellE><span lang=EN-US>RocketMQ</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>在可靠性方面做了很多工作，例如消息同步刷盘、</span><span lang=EN-US>HA</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>异步复制、</span><span lang=EN-US>HA</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>同步双写。在数据可靠性方面，</span><span class=SpellE><span
lang=EN-US>RocketMQ</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>要远远高于</span><span
lang=EN-US>Kafka</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>。</span></p>

<h2><a name="_Toc362698548"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>5.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]></a><span class=SpellE><span style='mso-bookmark:
_Toc362698548'><span lang=EN-US>RocketMQ</span></span></span><span
style='mso-bookmark:_Toc362698548'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>是什么？</span></span></h2>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US><v:shape id="_x0000_i1026" type="#_x0000_t75" style='width:510.75pt;
 height:309.75pt' o:ole="">
 <v:imagedata src="index.files/image002.emz" o:title=""/>
</v:shape><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="Visio.Drawing.11" ShapeID="_x0000_i1026"
  DrawAspect="Content" ObjectID="_1437719049">
 </o:OLEObject>
</xml><![endif]--></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>图表</span> <!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>6</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>图表</span><span lang=EN-US> \* ARABIC
\s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>1</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US> <span class=SpellE>RocketMQ</span></span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>是什么</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l12 level1 lfo33'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>是一个队列模型的消息中间件，具有高性能、高可靠、高实时、分布式特点。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l12 level1 lfo33'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>Producer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>、</span><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>、队列都可以分布式。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l12 level1 lfo33'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>Producer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>向一些队列轮流发送消息，队列集合称为</span><span
lang=EN-US>Topic</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>，</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>如果做广播消费，则一个</span><span lang=EN-US>consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>实例消费这个</span><span lang=EN-US>Topic</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>对应的所有队列，如果做集群消费，则多个</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>实例平均消费这个</span><span lang=EN-US>topic</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>对应的队列集合。</span></p>

<h1><a name="_Toc362698549"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]></a><span class=SpellE><span style='mso-bookmark:
_Toc362698549'><span lang=EN-US>RocketMQ</span></span></span><span
style='mso-bookmark:_Toc362698549'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>存储特点</span></span></h1>

<h2><a name="_Toc362698550"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>6.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]></a><span class=SpellE><span style='mso-bookmark:
_Toc362698550'><span lang=EN-US>RocketMQ</span></span></span><span
style='mso-bookmark:_Toc362698550'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>存储与</span><span lang=EN-US>DB</span></span><span
style='mso-bookmark:_Toc362698550'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>存储、</span><span lang=EN-US>KV</span></span><span
style='mso-bookmark:_Toc362698550'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>存储比较</span></span></h2>

<h2><a name="_Toc362698551"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>6.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]></a><span class=SpellE><span style='mso-bookmark:
_Toc362698551'><span lang=EN-US>RocketMQ</span></span></span><span
style='mso-bookmark:_Toc362698551'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>存储高性能原理</span></span></h2>

<h1><a name="_Toc362698552"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]></a><span class=SpellE><span style='mso-bookmark:
_Toc362698552'><span lang=EN-US>RocketMQ</span></span></span><span
style='mso-bookmark:_Toc362698552'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>关键特性原理</span></span></h1>

<h2><a name="_Toc362698553"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>单机如何实现</span><span lang=EN-US>1</span></a><span
style='mso-bookmark:_Toc362698553'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>万以上个队列</span></span></h2>

<p class=MsoNormal style='page-break-after:avoid'><span lang=EN-US><v:shape
 id="_x0000_i1027" type="#_x0000_t75" style='width:522.75pt;height:387pt'
 o:ole="">
 <v:imagedata src="index.files/image003.emz" o:title=""/>
</v:shape><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="Visio.Drawing.11" ShapeID="_x0000_i1027"
  DrawAspect="Content" ObjectID="_1437719050">
 </o:OLEObject>
</xml><![endif]--></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>图表</span> <!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>8</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>图表</span><span lang=EN-US> \* ARABIC
\s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>1</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US><span class=SpellE>RocketMQ</span></span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>队列</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l1 level1 lfo23'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>所有数据单独存储到一个物理队列，完全顺序写，随机读。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l1 level1 lfo23'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>对最终用户展现的队列实际只存储消息在物理队列的位置信息，并且串行方式刷盘。</span></p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>这样做的好处如下：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l8 level1 lfo24'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>队列轻量化，单个队列数据量非常少。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l8 level1 lfo24'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>对磁盘的访问串行化，避免磁盘竟争，不会因为队列增加导致</span><span
lang=EN-US>IOWAIT</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>增高。</span></p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>每个方案都有缺点，它的缺点如下：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l4 level1 lfo25'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>写虽然完全是顺序写，但是读却变成了完全的随机读。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l4 level1 lfo25'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>读一条消息，会先读逻辑队列，再读物理队列，增加了开销。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l4 level1 lfo25'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(3).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>要保证物理队列与逻辑队列完全的一致，增加了编程的复杂度。</span></p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>以上缺点如何克服：</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l13 level1 lfo26'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>随机读，尽可能让读命中</span><span
lang=EN-US>PAGECACHE</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>，减少</span><span
lang=EN-US>IO</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>读操作，所以内存越大越好。如果系统中堆积的消息过多，读数据要访问磁盘会不会由于随机读导致系统性能急剧下降，答案是否定的。</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l13 level2 lfo26'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>访问</span><span
lang=EN-US>PAGECACHE</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>时，即使只访问</span><span
lang=EN-US>1k</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>的消息，系统也会提前预读出更多数据，在下次读时，就可能命中内存。</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l13 level2 lfo26'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>随机访问物理队列磁盘数据，系统</span><span
lang=EN-US>IO</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>调度算法设置为</span><span lang=EN-US>NOOP</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>方式，会在一定程度上将完全的随机读变成顺序跳跃方式，而顺序跳跃方式读较完全的随机读性能会高</span><span
lang=EN-US>5</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>倍以上，可参见以下针对各种</span><span lang=EN-US>IO</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>方式的性能数据。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;mso-char-indent-count:0'><span
lang=EN-US><a href="http://stblog.baidu-tech.com/?p=851">http://stblog.baidu-tech.com/?p=851</a></span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0'><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>另外</span><span lang=EN-US>4k</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的消息在完全随机访问情况下，仍然可以达到</span><span lang=EN-US>8K</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>次每秒以上的读性能。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l13 level1 lfo26'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>由于逻辑队列存储数据量极少，而且是顺序读，在</span><span
lang=EN-US>PAGECACHE</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>预读作用下，逻辑队列的读性能几乎与内存一致，即使堆积情况下。所以可认为逻辑队列完全不会阻碍读性能。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l13 level1 lfo26'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(3).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>物理队列中存储了所有的元信息，包含消息体，类似于</span><span
class=SpellE><span lang=EN-US>Mysql</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>、</span><span
lang=EN-US>Oracle</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>的</span><span
class=SpellE><span lang=EN-US>redolog</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>，所以只要有物理队列在，逻辑队列即使数据丢失，仍然可以恢复出来。</span></p>

<h2><a name="_Toc362698554"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>刷盘策略</span></a></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span class=SpellE><span
lang=EN-US>RocketMQ</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>的所有消息都是持久化的，先写入系统</span><span
lang=EN-US>PAGECACHE</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>，然后刷盘，可以保证内存与磁盘都有一份数据，访问时，直接从内存读取。</span></p>

<h3><a name="_Toc362698555"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>7.2.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>异步刷盘</span></a></h3>

<p class=MsoNormal align=center style='text-align:center'><span lang=EN-US><v:shape
 id="_x0000_i1028" type="#_x0000_t75" style='width:104.25pt;height:314.25pt'
 o:ole="">
 <v:imagedata src="index.files/image004.emz" o:title=""/>
</v:shape><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="Visio.Drawing.11" ShapeID="_x0000_i1028"
  DrawAspect="Content" ObjectID="_1437719051">
 </o:OLEObject>
</xml><![endif]--></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>在有</span><span
lang=EN-US>RAID</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>卡，</span><span lang=EN-US>SAS 15000</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>转磁盘测试顺序写文件，速度可以达到</span><span lang=EN-US>200M</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>每秒以上，而线上的网卡一般都为千兆网卡，写磁盘速度明显快于数据网络入口速度，那么是否可以做到写完内存就向用户返回，由后台线程刷盘呢？</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l28 level1 lfo21'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>由于磁盘速度大于网卡速度，那么刷盘的进度肯定可以跟上消息的写入速度。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l28 level1 lfo21'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>万一由于此时系统压力过大，可能堆积消息，除了写入</span><span
lang=EN-US>IO</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>，还有读取</span><span lang=EN-US>IO</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，万一出现磁盘读取落后情况，会不会导致系统内存溢出，答案是否定的，原因如下：</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l28 level2 lfo21'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>a)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>写入消息到</span><span
lang=EN-US>PAGECACHE</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>时，如果内存不足，则尝试丢弃干净的</span><span
lang=EN-US>PAGE</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>，腾出内存供新消息使用，策略是</span><span lang=EN-US>LRU</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>方式。</span></p>

<p class=MsoListParagraph style='margin-left:63.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l28 level2 lfo21'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>b)<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>如果干净页不足，此时写入</span><span
lang=EN-US>PAGECACHE</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>会被阻塞，系统尝试刷盘部分数据，大约每次尝试</span><span
lang=EN-US>32</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>个</span><span lang=EN-US>PAGE</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，来找出更多干净</span><span lang=EN-US>PAGE</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:0cm;mso-char-indent-count:
0'><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>综上，内存溢出的情况不会出现。</span></p>

<h3><a name="_Toc362698556"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>7.2.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>同步刷盘</span></a></h3>

<p class=MsoNormal align=center style='text-align:center'><span lang=EN-US><v:shape
 id="_x0000_i1029" type="#_x0000_t75" style='width:150.75pt;height:314.25pt'
 o:ole="">
 <v:imagedata src="index.files/image005.emz" o:title=""/>
</v:shape><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="Visio.Drawing.11" ShapeID="_x0000_i1029"
  DrawAspect="Content" ObjectID="_1437719052">
 </o:OLEObject>
</xml><![endif]--></span></p>

<p class=MsoNormal align=left style='text-align:left;text-indent:21.0pt'><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>同步刷盘与异步刷盘的唯一区别是异步刷盘写完</span><span lang=EN-US>PAGECACHE</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>直接返回，而同步刷盘需要等待刷盘完成才返回，同步刷盘流程如下：</span></p>

<p class=MsoListParagraph align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt;mso-char-indent-count:0;mso-list:l2 level1 lfo27'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>写入</span><span
lang=EN-US>PAGECACHE</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>后，线程等待，通知刷盘线程刷盘。</span></p>

<p class=MsoListParagraph align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt;mso-char-indent-count:0;mso-list:l2 level1 lfo27'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>刷盘线程刷盘后，唤醒前端等待线程，可能是一批线程。</span></p>

<p class=MsoListParagraph align=left style='margin-left:42.0pt;text-align:left;
text-indent:-21.0pt;mso-char-indent-count:0;mso-list:l2 level1 lfo27'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(3).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>前端等待线程向用户返回成功。</span></p>

<h2><a name="_Toc362698557"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>服务器消息过滤</span></a></h2>

<h3><a name="_Toc362698558"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>7.3.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>单</span><span
lang=EN-US>TAG</span></a><span style='mso-bookmark:_Toc362698558'><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>过滤</span></span></h3>

<p class=MsoNormal style='text-indent:21.0pt'><span class=SpellE><span
lang=EN-US>RocketMQ</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>的消息过滤方式有别于其他消息中间件，是在订阅时，再做过滤，先来看下逻辑队列的存储结构。</span></p>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US><v:shape id="_x0000_i1030" type="#_x0000_t75" style='width:357.75pt;
 height:67.5pt' o:ole="">
 <v:imagedata src="index.files/image006.emz" o:title=""/>
</v:shape><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="Visio.Drawing.11" ShapeID="_x0000_i1030"
  DrawAspect="Content" ObjectID="_1437719053">
 </o:OLEObject>
</xml><![endif]--></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>图表</span> <!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>8</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>图表</span><span lang=EN-US> \* ARABIC
\s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>2</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>逻辑队列单个存储单元结构</span></p>

<p class=MsoListParagraph style='margin-left:42.05pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l16 level1 lfo28'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>在</span><span
lang=EN-US>Broker</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>端进行</span><span
lang=EN-US>Message Type</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>比对，先遍历逻辑队列，如果存储的</span><span
lang=EN-US>Message Type</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>与订阅的</span><span
lang=EN-US>Message Type</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>不符合，则跳过，继续比对下一个，符合则传输给</span><span
lang=EN-US>Consumer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>。注意：</span><span
lang=EN-US>Message Type</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>是字符串形式，逻辑队列中存储的是其对应的</span><span
class=SpellE><span lang=EN-US>hashcode</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>，比对时也是比对</span><span
class=SpellE><span lang=EN-US>hashcode</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>。</span></p>

<p class=MsoListParagraph style='margin-left:42.05pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l16 level1 lfo28'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>收到过滤后的消息后，同样也要执行在</span><span lang=EN-US>Broker</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>端的操作，但是比对的是真实的</span><span lang=EN-US>Message
Type</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>字符串，而不是</span><span class=SpellE><span
lang=EN-US>Hashcode</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>。</span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='margin-left:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>为什么过滤要这样做？</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l14 level1 lfo29'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Message Type</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>存储</span><span class=SpellE><span lang=EN-US>Hashcode</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，是为了在逻辑队列定长方式存储，节约空间。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l14 level1 lfo29'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>过滤过程中不会访问物理队列数据，可以保证堆积情况下也能高效过滤。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l14 level1 lfo29'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(3).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>即使存在</span><span
lang=EN-US>Hash</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>冲突，也可以在</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>端进行修正，保证万无一失。</span></p>

<h3><a name="_Toc362698559"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>7.3.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>多</span><span
lang=EN-US>TAG</span></a><span style='mso-bookmark:_Toc362698559'><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>过滤</span></span></h3>

<p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>暂时不支持。</span></p>

<h2><a name="_Toc362698560"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>消息查询</span></a></h2>

<h3><a name="_Toc362698561"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>7.4.1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>按照</span></a><span
class=SpellE><span style='mso-bookmark:_Toc362698561'><span lang=EN-US>MessageId</span></span></span><span
style='mso-bookmark:_Toc362698561'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>查询消息</span></span></h3>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US style='mso-no-proof:yes'><v:shape id="图片_x0020_4" o:spid="_x0000_i1037"
 type="#_x0000_t75" style='width:480.75pt;height:103.5pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="index.files/image007.png" o:title=""/>
</v:shape></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>图表</span> <!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>8</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>图表</span><span lang=EN-US> \* ARABIC
\s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>3</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US> Message Id</span><span style='font-family:黑体;mso-ascii-font-family:
Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:Cambria;
mso-hansi-theme-font:major-latin'>组成</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span class=SpellE><span
lang=EN-US>MsgId</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>总共</span><span
lang=EN-US>20</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>字节，包含消息存储时间，消息存储主机地址，消息物理分区</span><span
lang=EN-US>offset</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>。从</span><span
class=SpellE><span lang=EN-US>MsgId</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>中解析出</span><span
lang=EN-US>server</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>的地址和物理分区的偏移地址，然后按照存储格式所在位置消息</span><span
lang=EN-US>buffer</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>解析成一个完整的消息。</span></p>

<h3><a name="_Toc362698562"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>7.4.2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>按照时间查询队列</span><span
lang=EN-US>Offset</span></a></h3>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US style='mso-no-proof:yes'><v:shape id="图片_x0020_7" o:spid="_x0000_i1036"
 type="#_x0000_t75" style='width:516pt;height:317.25pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="index.files/image008.png" o:title=""/>
</v:shape></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>图表</span> <!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>8</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>图表</span><span lang=EN-US> \* ARABIC
\s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>4</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>逻辑队列组成</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>根据时间</span><span
class=SpellE><span lang=EN-US>Tn</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>查找到对应的索引文件</span><span
lang=EN-US>Fn</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>，索引文件在</span><span class=SpellE><span
lang=EN-US>RocketMQ</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>的内部存储结构中是有序排列的（按时间递增），因此当一个查询进来的时候首先根据查询的时间</span><span
lang=EN-US> <span class=SpellE>Tn</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>查找到所属的索引文件。例如：假设</span><span
lang=EN-US>T2&lt;<span class=SpellE>Tn</span>&lt;T3</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>（</span><span class=SpellE><span lang=EN-US>Tn</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>对应的索引文件记做</span><span lang=EN-US>Fn</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，</span><span class=SpellE><span lang=EN-US>Tn</span></span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>是索引文件</span><span lang=EN-US>Fn</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>最后一次的修改时间），则</span><span class=SpellE><span
lang=EN-US>Tn</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>时间对应的消息就应包含在索引文件</span><span
lang=EN-US>F3</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>中。</span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US style='mso-no-proof:yes'><v:shape id="图片_x0020_10" o:spid="_x0000_i1035"
 type="#_x0000_t75" style='width:523.5pt;height:138.75pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="index.files/image009.png" o:title=""/>
</v:shape></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>图表</span> <!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>8</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>图表</span><span lang=EN-US> \* ARABIC
\s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>5</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US> </span><span style='font-family:黑体;mso-ascii-font-family:Cambria;
mso-ascii-theme-font:major-latin;mso-hansi-font-family:Cambria;mso-hansi-theme-font:
major-latin'>按照时间二分查找</span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>二分遍历索引文件，查找到一个最接近的消息，同一个队列的消息是严格按照时间先后顺序入队，所以按照二分查找定位到一个消息的</span><span
lang=EN-US>offset</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>时间复杂度为</span><span
lang=EN-US>O(<span class=SpellE>logN</span>)</span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>。例如：一个索引文件的大小为</span><span
lang=EN-US>8M</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>，一条索引占</span><span lang=EN-US>16</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>字节，一个文件中总共的索引条数为</span><span lang=EN-US>524288</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>条，极端情况下最多遍历次数为</span><span lang=EN-US>19</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，因为</span><span lang=EN-US>query</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的时间精确到</span><span lang=EN-US>ms</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，所以不命中的情况下会返回最接近的结果值。</span></p>

<h3><a name="_Toc362698563"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>7.4.3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>按照</span><span
lang=EN-US>Message Key</span></a><span style='mso-bookmark:_Toc362698563'><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>查询消息</span></span></h3>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US style='mso-no-proof:yes'><v:shape id="图片_x0020_15" o:spid="_x0000_i1034"
 type="#_x0000_t75" style='width:523.5pt;height:238.5pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="index.files/image010.png" o:title=""/>
</v:shape></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>图表</span> <!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>8</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>图表</span><span lang=EN-US> \* ARABIC
\s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>6</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>索引的逻辑结构，类似</span><span
class=SpellE><span lang=EN-US>HashMap</span></span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>实现</span></p>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US style='mso-no-proof:yes'><v:shape id="图片_x0020_18" o:spid="_x0000_i1033"
 type="#_x0000_t75" style='width:326.25pt;height:69.75pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="index.files/image011.png" o:title=""/>
</v:shape></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>图表</span> <!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>8</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>图表</span><span lang=EN-US> \* ARABIC
\s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>7</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>单个索引项的存储结构</span></p>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US style='mso-no-proof:yes'><v:shape id="图片_x0020_21" o:spid="_x0000_i1032"
 type="#_x0000_t75" style='width:333.75pt;height:415.5pt;visibility:visible;
 mso-wrap-style:square'>
 <v:imagedata src="index.files/image012.png" o:title=""/>
</v:shape></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>图表</span> <!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>8</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>图表</span><span lang=EN-US> \* ARABIC
\s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>8</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>每个索引文件的物理存储结构</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l6 level1 lfo20'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>根据查询的</span><span
lang=EN-US>key</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>的</span><span class=SpellE><span
lang=EN-US>hashcode%slotNum</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>得到具体的槽的位置（</span><span
class=SpellE><span lang=EN-US>slotNum</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>是一个索引文件里面包含的最大槽的数目，例如图</span><span
lang=EN-US>7.4.3-1</span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>中所示</span><span
class=SpellE><span lang=EN-US>slotNum</span></span><span lang=EN-US>=5000000</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>），索引的逻辑结构见图</span><span lang=EN-US>7.4.3-1 </span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l6 level1 lfo20'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>2.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>根据</span><span
class=SpellE><span lang=EN-US>slotValue</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>（</span><span
lang=EN-US>slot</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>位置对应的值）查找到索引项列表的最后一项（倒序排列，</span><span
class=SpellE><span lang=EN-US>slotValue</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>总是指向最新的一个索引项），索引项的存储结构见图</span><span
lang=EN-US>7.4.3-2 </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l6 level1 lfo20'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>3.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>遍历索引项列表返回查询时间范围内的结果集（默认一次最大返回的</span><span
lang=EN-US>32</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>条记录）</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l6 level1 lfo20'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>4.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Hash</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>冲突；寻找</span><span lang=EN-US>key</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的</span><span lang=EN-US>slot</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>位置时相当于执行了两次散列函数，一次</span><span lang=EN-US>key</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的</span><span lang=EN-US>hash</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，一次</span><span lang=EN-US>key</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的</span><span lang=EN-US>hash</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>值取模，因此这里存在两次冲突的情况；第一种，</span><span lang=EN-US>key</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的</span><span lang=EN-US>hash</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>值不同但模数相同，此时查询的时候会在比较一次</span><span lang=EN-US>key</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的</span><span lang=EN-US>hash</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>值（每个索引项保存了</span><span lang=EN-US>key</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的</span><span lang=EN-US>hash</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>值），过滤掉</span><span lang=EN-US>hash</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>值不相等的项。第二种，</span><span lang=EN-US>hash</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>值相等但</span><span lang=EN-US>key</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>不等，出于性能的考虑冲突的检测放到客户端处理（</span><span lang=EN-US>key</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>的原始值是存储在消息文件中的，避免对数据文件的解析），客户端比较一次消息体的</span><span
lang=EN-US>key</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>是否相同。</span></p>

<p class=MsoListParagraph style='margin-left:18.0pt;text-indent:-18.0pt;
mso-char-indent-count:0;mso-list:l6 level1 lfo20'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>5.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>存储；为了节省空间索引项中存储的时间是时间差值（存储时间</span><span
lang=EN-US>-</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>开始时间，开始时间存储在索引文件头中），整个索引文件是定长的，结构也是固定的。索引文件存储结构参见图</span><span
lang=EN-US>7.4.3-3 </span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>。</span></p>

<h2><a name="_Toc362698564"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>回溯消费</span></a></h2>

<p class=MsoNormal><span lang=EN-US>TODO</span></p>

<h2><a name="_Toc362698565"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.6<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>长轮询</span><span lang=EN-US>Pull</span></a></h2>

<p class=MsoNormal><span lang=EN-US>TODO</span></p>

<h2><a name="_Toc362698566"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>顺序消息</span></a></h2>

<p class=MsoNormal><span lang=EN-US>TODO</span></p>

<h2><a name="_Toc362698567"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.8<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>事务消息</span></a></h2>

<p class=MsoNormal><span lang=EN-US>TODO</span></p>

<h2><a name="_Toc362698568"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.9<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>HA</span></a><span
style='mso-bookmark:_Toc362698568'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>，同步双写</span></span></h2>

<p class=MsoNormal><span lang=EN-US>TODO</span></p>

<h2><a name="_Toc362698569"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.10<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>HA</span></a><span
style='mso-bookmark:_Toc362698569'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>，异步复制</span></span></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>异步复制的实现思路非常简单，</span><span
lang=EN-US>Slave</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>启动一个线程，不断从</span><span lang=EN-US>Master</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>拉取物理队列中的数据，然后在异步</span><span lang=EN-US>build</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>出逻辑队列数据结构。整个实现过程基本同</span><span class=SpellE><span
lang=EN-US>Mysql</span></span><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>主从同步类似。</span></p>

<h2><a name="_Toc362698570"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.11<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>单个</span><span lang=EN-US>JVM</span></a><span
style='mso-bookmark:_Toc362698570'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>进程也能利用机器超大内存</span></span></h2>

<p class=MsoNormal align=center style='text-align:center;page-break-after:avoid'><span
lang=EN-US><v:shape id="_x0000_i1031" type="#_x0000_t75" style='width:438.75pt;
 height:295.5pt' o:ole="">
 <v:imagedata src="index.files/image013.emz" o:title=""/>
</v:shape><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="Visio.Drawing.11" ShapeID="_x0000_i1031"
  DrawAspect="Content" ObjectID="_1437719054">
 </o:OLEObject>
</xml><![endif]--></span></p>

<p class=MsoCaption align=center style='text-align:center'><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>图表</span> <!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>8</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>图表</span><span lang=EN-US> \* ARABIC
\s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>9</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
style='font-family:黑体;mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;
mso-hansi-font-family:Cambria;mso-hansi-theme-font:major-latin'>消息在系统中流转图</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l10 level1 lfo22'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(1).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Producer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>发送消息，消息从</span><span lang=EN-US>socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>进入</span><span lang=EN-US>java</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>堆。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l10 level1 lfo22'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(2).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Producer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>发送消息，消息从</span><span lang=EN-US>java</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>堆转入</span><span lang=EN-US>PAGACACHE</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，物理内存。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l10 level1 lfo22'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(3).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Producer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>发送消息，由异步线程刷盘，消息从</span><span lang=EN-US>PAGECACHE</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>刷入磁盘。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l10 level1 lfo22'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(4).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>拉消息（正常消费），消息直接从</span><span lang=EN-US>PAGECACHE</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>（数据在物理内存）转入</span><span lang=EN-US>socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，到达</span><span lang=EN-US>consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，不经过</span><span lang=EN-US>java</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>堆。这种消费场景最多，线上</span><span lang=EN-US>96G</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>物理内存，按照</span><span lang=EN-US>1K</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>消息算，可以在物理内存缓存</span><span lang=EN-US>1</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>亿条消息。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l10 level1 lfo22'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(5).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>拉消息（异常消费），消息直接从</span><span lang=EN-US>PAGECACHE</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>（数据在虚拟内存）转入</span><span lang=EN-US>socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l10 level1 lfo22'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(6).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>拉消息（异常消费），由于</span><span lang=EN-US>Socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>访问了虚拟内存，产生缺页中断，此时会产生磁盘</span><span lang=EN-US>IO</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，从磁盘</span><span lang=EN-US>Load</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>消息到</span><span lang=EN-US>PAGECACHE</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，然后直接从</span><span lang=EN-US>socket</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>发出去。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l10 level1 lfo22'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(7).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>同</span><span
lang=EN-US>5</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>一致。</span></p>

<p class=MsoListParagraph style='margin-left:42.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l10 level1 lfo22'><![if !supportLists]><span
lang=EN-US style='mso-fareast-font-family:Candara;mso-bidi-font-family:Candara'><span
style='mso-list:Ignore'>(8).<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>同</span><span
lang=EN-US>6</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>一致。</span></p>

<h2><a name="_Toc362698571"><![if !supportLists]><span lang=EN-US
style='mso-fareast-font-family:Cambria;mso-fareast-theme-font:major-latin;
mso-bidi-font-family:Cambria;mso-bidi-theme-font:major-latin'><span
style='mso-list:Ignore'>7.12<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span></span><![endif]><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Cambria;mso-ascii-theme-font:major-latin;mso-hansi-font-family:
Cambria;mso-hansi-theme-font:major-latin'>消息堆积问题解决办法</span></a></h2>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>前面提到衡量消息中间件堆积能力的几个指标，现将</span><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>的堆积能力整理如下</span></p>

<p class=MsoNormal align=center style='text-align:center'><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>表格</span> <!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-begin'></span><span
style='mso-spacerun:yes'>&nbsp;</span>STYLEREF 1 \s <span style='mso-element:
field-separator'></span></span><![endif]--><span lang=EN-US><span
style='mso-no-proof:yes'>8</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US>&#8209;</span><!--[if supportFields]><span lang=EN-US><span
style='mso-element:field-begin'></span> SEQ </span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>表格</span><span
lang=EN-US> \* ARABIC \s 1 <span style='mso-element:field-separator'></span></span><![endif]--><span
lang=EN-US><span style='mso-no-proof:yes'>1</span></span><!--[if supportFields]><span
lang=EN-US><span style='mso-element:field-end'></span></span><![endif]--><span
lang=EN-US><span class=SpellE>RocketMQ</span></span><span style='font-family:
"微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>性能堆积指标</span></p>

<div align=center>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0 width=696
 style='width:521.9pt;margin-left:4.7pt;border-collapse:collapse;mso-yfti-tbllook:
 1184;mso-padding-alt:0cm 5.4pt 0cm 5.4pt'>
 <tr style='mso-yfti-irow:0;mso-yfti-firstrow:yes;height:21.75pt'>
  <td width=341 nowrap colspan=2 style='width:255.9pt;border:solid windowtext 1.0pt;
  border-right:solid black 1.0pt;mso-border-alt:solid windowtext .5pt;
  mso-border-right-alt:solid black .5pt;background:#92D050;padding:0cm 5.4pt 0cm 5.4pt;
  height:21.75pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara;mso-font-kerning:0pt'>　</span><span
  lang=EN-US style='mso-font-kerning:0pt'><o:p></o:p></span></p>
  </td>
  <td width=355 nowrap style='width:266.0pt;border:solid windowtext 1.0pt;
  border-left:none;mso-border-top-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;background:
  #92D050;padding:0cm 5.4pt 0cm 5.4pt;height:21.75pt'>
  <p class=MsoNormal><b><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-font-kerning:
  0pt'>堆积性能指标</span><span lang=EN-US style='mso-font-kerning:0pt'><o:p></o:p></span></b></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:1;height:16.5pt'>
  <td width=22 nowrap style='width:16.4pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:16.5pt'>
  <p class=MsoNormal><span lang=EN-US style='mso-font-kerning:0pt'>1<o:p></o:p></span></p>
  </td>
  <td width=319 nowrap style='width:239.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:16.5pt'>
  <p class=MsoNormal><b><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-font-kerning:
  0pt'>消息的堆积容量</span><span lang=EN-US style='mso-font-kerning:0pt'><o:p></o:p></span></b></p>
  </td>
  <td width=355 nowrap style='width:266.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:16.5pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara;mso-font-kerning:0pt'>依赖磁盘大小</span><span
  lang=EN-US style='mso-font-kerning:0pt'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:2;height:33.0pt'>
  <td width=22 nowrap style='width:16.4pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:33.0pt'>
  <p class=MsoNormal><span lang=EN-US style='mso-font-kerning:0pt'>2<o:p></o:p></span></p>
  </td>
  <td width=319 nowrap style='width:239.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:33.0pt'>
  <p class=MsoNormal><b><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-font-kerning:
  0pt'>发消息的吞吐量大小受影响程度</span><span lang=EN-US style='mso-font-kerning:0pt'><o:p></o:p></span></b></p>
  </td>
  <td width=355 style='width:266.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:33.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara;mso-font-kerning:0pt'>无</span><span
  lang=EN-US style='mso-font-kerning:0pt'>SLAVE</span><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
  mso-font-kerning:0pt'>情况，会受一定影响</span><span lang=EN-US style='mso-font-kerning:
  0pt'><br>
  </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara;mso-font-kerning:0pt'>有</span><span
  lang=EN-US style='mso-font-kerning:0pt'>SLAVE</span><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
  mso-font-kerning:0pt'>情况，不受影响</span><span lang=EN-US style='mso-font-kerning:
  0pt'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:3;height:33.0pt'>
  <td width=22 nowrap style='width:16.4pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:33.0pt'>
  <p class=MsoNormal><span lang=EN-US style='mso-font-kerning:0pt'>3<o:p></o:p></span></p>
  </td>
  <td width=319 nowrap style='width:239.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:33.0pt'>
  <p class=MsoNormal><b><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-font-kerning:
  0pt'>正常消费的</span><span lang=EN-US style='mso-font-kerning:0pt'>Consumer</span></b><b><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara;mso-font-kerning:0pt'>是否会受影响</span><span
  lang=EN-US style='mso-font-kerning:0pt'><o:p></o:p></span></b></p>
  </td>
  <td width=355 style='width:266.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:33.0pt'>
  <p class=MsoNormal><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara;mso-font-kerning:0pt'>无</span><span
  lang=EN-US style='mso-font-kerning:0pt'>SLAVE</span><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
  mso-font-kerning:0pt'>情况，会受一定影响</span><span lang=EN-US style='mso-font-kerning:
  0pt'><br>
  </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara;mso-font-kerning:0pt'>有</span><span
  lang=EN-US style='mso-font-kerning:0pt'>SLAVE</span><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
  mso-font-kerning:0pt'>情况，不受影响</span><span lang=EN-US style='mso-font-kerning:
  0pt'><o:p></o:p></span></p>
  </td>
 </tr>
 <tr style='mso-yfti-irow:4;mso-yfti-lastrow:yes;height:49.5pt'>
  <td width=22 nowrap style='width:16.4pt;border:solid windowtext 1.0pt;
  border-top:none;mso-border-left-alt:solid windowtext .5pt;mso-border-bottom-alt:
  solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;padding:
  0cm 5.4pt 0cm 5.4pt;height:49.5pt'>
  <p class=MsoNormal><span lang=EN-US style='mso-font-kerning:0pt'>4<o:p></o:p></span></p>
  </td>
  <td width=319 nowrap style='width:239.5pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:49.5pt'>
  <p class=MsoNormal><b><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-font-kerning:
  0pt'>访问堆积在磁盘的消息时，吞吐量有多大</span><span lang=EN-US style='mso-font-kerning:0pt'><o:p></o:p></span></b></p>
  </td>
  <td width=355 style='width:266.0pt;border-top:none;border-left:none;
  border-bottom:solid windowtext 1.0pt;border-right:solid windowtext 1.0pt;
  mso-border-bottom-alt:solid windowtext .5pt;mso-border-right-alt:solid windowtext .5pt;
  padding:0cm 5.4pt 0cm 5.4pt;height:49.5pt'>
  <p class=MsoNormal><span lang=EN-US style='mso-font-kerning:0pt'>1</span><span
  style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
  mso-hansi-font-family:Candara;mso-font-kerning:0pt'>、</span><span lang=EN-US
  style='mso-font-kerning:0pt'>1K</span><span style='font-family:"微软雅黑","sans-serif";
  mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;mso-font-kerning:
  0pt'>大小左右消息堆积情况下吞吐量非常高，</span><span lang=EN-US style='mso-font-kerning:0pt'><br>
  </span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara;mso-font-kerning:0pt'>在</span><span
  lang=EN-US style='mso-font-kerning:0pt'>5W</span><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
  mso-font-kerning:0pt'>每秒以上。</span><span lang=EN-US style='mso-font-kerning:
  0pt'><br>
  2</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara;mso-font-kerning:0pt'>、</span><span
  lang=EN-US style='mso-font-kerning:0pt'>4K</span><span style='font-family:
  "微软雅黑","sans-serif";mso-ascii-font-family:Candara;mso-hansi-font-family:Candara;
  mso-font-kerning:0pt'>消息性能最差，</span><span lang=EN-US style='mso-font-kerning:
  0pt'>8K</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
  Candara;mso-hansi-font-family:Candara;mso-font-kerning:0pt'>每秒左右。</span><span
  lang=EN-US style='mso-font-kerning:0pt'><o:p></o:p></span></p>
  </td>
 </tr>
</table>

</div>

<p class=MsoNormal><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

<p class=MsoNormal style='text-indent:21.0pt'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>在有</span><span
lang=EN-US>Slave</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>情况下，</span><span lang=EN-US>Master</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>一旦发现</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>访问堆积在磁盘的数据时，会向</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>下达一个重定向指令，令</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>从</span><span lang=EN-US>Slave</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>拉取数据，这样正常的发消息与正常消费的</span><span lang=EN-US>Consumer</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>都不会因为消息堆积受影响，因为系统将堆积场景与非堆积场景分割在了两个不同的节点处理。这里会产生另一个问题，</span><span
lang=EN-US>Slave</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>会不会写性能下降，答案是否定的。因为</span><span
lang=EN-US>Slave</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>的消息写入只追求吞吐量，不追求实时性，只要整体的吞吐量高就可以，而</span><span
lang=EN-US>Slave</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>每次都是从</span><span lang=EN-US>Master</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>拉取一批数据，如</span><span lang=EN-US>1M</span><span
style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:Candara;
mso-hansi-font-family:Candara'>，这种批量顺序写入方式即使堆积情况，整体吞吐量影响相对较小，只是写入</span><span
lang=EN-US>RT</span><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>会变长。</span></p>

<h1 style='margin-left:0cm;text-indent:0cm;mso-list:none'><a
name="_Toc362698572"><span style='font-family:"微软雅黑","sans-serif";mso-ascii-font-family:
Candara;mso-hansi-font-family:Candara'>附录</span><span lang=EN-US>A </span></a><span
style='mso-bookmark:_Toc362698572'><span style='font-family:"微软雅黑","sans-serif";
mso-ascii-font-family:Candara;mso-hansi-font-family:Candara'>参考文档、规范</span></span></h1>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l22 level1 lfo4'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>Java Message Service API Tutorial</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0'><span lang=EN-US><a
href="http://docs.oracle.com/javaee/1.3/jms/tutorial/1_3_1-fcs/doc/jms_tutorialTOC.html">http://docs.oracle.com/javaee/1.3/jms/tutorial/1_3_1-fcs/doc/jms_tutorialTOC.html</a></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l22 level1 lfo4'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>Java(TM) Message Service Specification Final Release 1.1</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0'><span lang=EN-US><a
href="http://www.oracle.com/technetwork/java/docs-136352.html">http://www.oracle.com/technetwork/java/docs-136352.html</a></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l22 level1 lfo4'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>CORBA Notification Service Specification 1.1</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0'><span lang=EN-US><a href="http://www.omg.org/spec/NOT/1.1/PDF">http://www.omg.org/spec/NOT/1.1/PDF</a></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l22 level1 lfo4'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>Distributed Transaction Processing: The XA Specification</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0'><span lang=EN-US><a
href="http://pubs.opengroup.org/onlinepubs/009680699/toc.pdf">http://pubs.opengroup.org/onlinepubs/009680699/toc.pdf</a></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l22 level1 lfo4'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
class=SpellE><span lang=EN-US>RocketMQ</span></span><span lang=EN-US> Benchmark</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0'><span lang=EN-US><a
href="http://taobao.github.com/metaq/document/benchmark/benchmark.pdf">http://taobao.github.com/metaq/document/benchmark/benchmark.pdf</a></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:-21.0pt;
mso-char-indent-count:0;mso-list:l22 level1 lfo4'><![if !supportLists]><span
lang=EN-US style='font-family:Wingdings;mso-fareast-font-family:Wingdings;
mso-bidi-font-family:Wingdings'><span style='mso-list:Ignore'>n<span
style='font:7.0pt "Times New Roman"'>&nbsp; </span></span></span><![endif]><span
lang=EN-US>Documentation for /proc/sys/<span class=SpellE>vm</span>/*</span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0'><span lang=EN-US><a
href="http://www.kernel.org/doc/Documentation/sysctl/vm.txt">http://www.kernel.org/doc/Documentation/sysctl/vm.txt</a></span></p>

<p class=MsoListParagraph style='margin-left:21.0pt;text-indent:0cm;mso-char-indent-count:
0'><span lang=EN-US><o:p>&nbsp;</o:p></span></p>

</div>

</body>

</html>
